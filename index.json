[{"categories":null,"contents":" CDK 常用指令 # 初始化新專案 cdk init app --language typescript # 部署所有 Stack cdk deploy --all # 查看差異 cdk diff # 銷毀資源 cdk destroy CDK 最佳實踐 使用 Environment 變數 const env = { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION, }; 標籤管理 Tags.of(this).add(\u0026#39;Project\u0026#39;, \u0026#39;MyProject\u0026#39;); Tags.of(this).add(\u0026#39;Environment\u0026#39;, \u0026#39;Production\u0026#39;); ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://clarence.tw/notes/aws/cdk-tips/","summary":"\u003c!-- CDK 常用指令 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eCDK 常用指令\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 初始化新專案\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecdk init app --language typescript\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 部署所有 Stack\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecdk deploy --all\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看差異\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecdk diff\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 銷毀資源\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecdk destroy\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- CDK 最佳實踐 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eCDK 最佳實踐\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003col\u003e\n\u003cli\u003e\u003cstrong\u003e使用 Environment 變數\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-typescript\" data-lang=\"typescript\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eenv\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eaccount\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003eprocess.env.CDK_DEFAULT_ACCOUNT\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eregion\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003eprocess.env.CDK_DEFAULT_REGION\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e};\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003col start=\"2\"\u003e\n\u003cli\u003e\u003cstrong\u003e標籤管理\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-typescript\" data-lang=\"typescript\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003eTags\u003c/span\u003e.\u003cspan style=\"color:#66d9ef\"\u003eof\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003ethis\u003c/span\u003e).\u003cspan style=\"color:#a6e22e\"\u003eadd\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Project\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;MyProject\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003eTags\u003c/span\u003e.\u003cspan style=\"color:#66d9ef\"\u003eof\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003ethis\u003c/span\u003e).\u003cspan style=\"color:#a6e22e\"\u003eadd\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Environment\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Production\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e","tags":null,"title":"AWS CDK 實用技巧"},{"categories":null,"contents":" AWS CLI 安裝與設定 安裝 AWS CLI：\n# macOS (使用 Homebrew) brew install awscli # Ubuntu/Debian sudo apt update sudo apt install awscli # 使用 pip 安裝 pip install awscli # 安裝 AWS CLI v2 (推薦) curl \u0026#34;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\u0026#34; -o \u0026#34;awscliv2.zip\u0026#34; unzip awscliv2.zip sudo ./aws/install # 驗證安裝 aws --version 設定 AWS CLI：\n# 基本設定 aws configure # 會提示輸入： # AWS Access Key ID # AWS Secret Access Key # Default region name (例如: us-east-1) # Default output format (json/text/table) # 設定特定 profile aws configure --profile myprofile # 查看設定 aws configure list aws configure list --profile myprofile # 設定單一參數 aws configure set region ap-northeast-1 aws configure set output json --profile myprofile 環境變數設定：\n# 設定環境變數 export AWS_ACCESS_KEY_ID=your_access_key export AWS_SECRET_ACCESS_KEY=your_secret_key export AWS_DEFAULT_REGION=us-east-1 export AWS_PROFILE=myprofile # 查看當前設定 aws sts get-caller-identity S3 基本操作 Bucket 管理：\n# 列出所有 buckets aws s3 ls # 建立 bucket aws s3 mb s3://my-bucket-name aws s3 mb s3://my-bucket-name --region ap-northeast-1 # 刪除空的 bucket aws s3 rb s3://my-bucket-name # 刪除 bucket 及所有內容 aws s3 rb s3://my-bucket-name --force # 查看 bucket 內容 aws s3 ls s3://my-bucket-name aws s3 ls s3://my-bucket-name/folder/ --recursive 檔案上傳與下載：\n# 上傳單一檔案 aws s3 cp file.txt s3://my-bucket-name/ aws s3 cp file.txt s3://my-bucket-name/folder/ # 下載單一檔案 aws s3 cp s3://my-bucket-name/file.txt ./ aws s3 cp s3://my-bucket-name/folder/file.txt ./downloads/ # 上傳整個目錄 aws s3 cp ./local-folder s3://my-bucket-name/remote-folder --recursive # 下載整個目錄 aws s3 cp s3://my-bucket-name/remote-folder ./local-folder --recursive # 同步目錄 (只上傳變更的檔案) aws s3 sync ./local-folder s3://my-bucket-name/remote-folder aws s3 sync s3://my-bucket-name/remote-folder ./local-folder # 移動檔案 aws s3 mv file.txt s3://my-bucket-name/ aws s3 mv s3://my-bucket-name/old-file.txt s3://my-bucket-name/new-file.txt S3 進階操作 檔案管理：\n# 刪除檔案 aws s3 rm s3://my-bucket-name/file.txt # 刪除目錄及所有內容 aws s3 rm s3://my-bucket-name/folder --recursive # 設定檔案權限 (ACL) aws s3 cp file.txt s3://my-bucket-name/ --acl public-read aws s3 cp file.txt s3://my-bucket-name/ --acl private # 設定 Content-Type aws s3 cp index.html s3://my-bucket-name/ --content-type \u0026#34;text/html\u0026#34; # 設定快取控制 aws s3 cp image.jpg s3://my-bucket-name/ --cache-control \u0026#34;max-age=3600\u0026#34; # 設定 metadata aws s3 cp file.txt s3://my-bucket-name/ --metadata \u0026#34;key1=value1,key2=value2\u0026#34; 過濾與排除：\n# 只同步特定檔案類型 aws s3 sync ./folder s3://my-bucket-name/ --include \u0026#34;*.jpg\u0026#34; # 排除特定檔案 aws s3 sync ./folder s3://my-bucket-name/ --exclude \u0026#34;*.tmp\u0026#34; # 複合條件 aws s3 sync ./folder s3://my-bucket-name/ --exclude \u0026#34;*\u0026#34; --include \u0026#34;*.jpg\u0026#34; --include \u0026#34;*.png\u0026#34; # 刪除本地不存在的檔案 aws s3 sync ./folder s3://my-bucket-name/ --delete 檔案資訊查詢：\n# 查看檔案詳細資訊 aws s3api head-object --bucket my-bucket-name --key file.txt # 查看檔案大小和數量 aws s3 ls s3://my-bucket-name --recursive --human-readable --summarize # 查看特定前綴的檔案 aws s3 ls s3://my-bucket-name/logs/ --recursive S3 靜態網站託管 # 啟用靜態網站託管 aws s3 website s3://my-bucket-name --index-document index.html --error-document error.html # 上傳網站檔案並設定公開讀取 aws s3 sync ./website s3://my-bucket-name --acl public-read # 設定 bucket policy (允許公開讀取) cat \u0026gt; bucket-policy.json \u0026lt;\u0026lt; EOF { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;PublicReadGetObject\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: \u0026#34;*\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;s3:GetObject\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:s3:::my-bucket-name/*\u0026#34; } ] } EOF aws s3api put-bucket-policy --bucket my-bucket-name --policy file://bucket-policy.json # 查看網站設定 aws s3api get-bucket-website --bucket my-bucket-name # 停用網站託管 aws s3api delete-bucket-website --bucket my-bucket-name S3 生命週期管理 # 建立生命週期規則 cat \u0026gt; lifecycle.json \u0026lt;\u0026lt; EOF { \u0026#34;Rules\u0026#34;: [ { \u0026#34;ID\u0026#34;: \u0026#34;DeleteOldFiles\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Enabled\u0026#34;, \u0026#34;Filter\u0026#34;: { \u0026#34;Prefix\u0026#34;: \u0026#34;logs/\u0026#34; }, \u0026#34;Expiration\u0026#34;: { \u0026#34;Days\u0026#34;: 30 } }, { \u0026#34;ID\u0026#34;: \u0026#34;TransitionToIA\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Enabled\u0026#34;, \u0026#34;Transitions\u0026#34;: [ { \u0026#34;Days\u0026#34;: 30, \u0026#34;StorageClass\u0026#34;: \u0026#34;STANDARD_IA\u0026#34; }, { \u0026#34;Days\u0026#34;: 90, \u0026#34;StorageClass\u0026#34;: \u0026#34;GLACIER\u0026#34; } ] } ] } EOF # 套用生命週期規則 aws s3api put-bucket-lifecycle-configuration --bucket my-bucket-name --lifecycle-configuration file://lifecycle.json # 查看生命週期規則 aws s3api get-bucket-lifecycle-configuration --bucket my-bucket-name # 刪除生命週期規則 aws s3api delete-bucket-lifecycle --bucket my-bucket-name S3 版本控制 # 啟用版本控制 aws s3api put-bucket-versioning --bucket my-bucket-name --versioning-configuration Status=Enabled # 查看版本控制狀態 aws s3api get-bucket-versioning --bucket my-bucket-name # 列出檔案的所有版本 aws s3api list-object-versions --bucket my-bucket-name --prefix file.txt # 下載特定版本的檔案 aws s3api get-object --bucket my-bucket-name --key file.txt --version-id VERSION_ID output.txt # 刪除特定版本 aws s3api delete-object --bucket my-bucket-name --key file.txt --version-id VERSION_ID # 暫停版本控制 aws s3api put-bucket-versioning --bucket my-bucket-name --versioning-configuration Status=Suspended S3 跨區域複製 # 建立複製規則 cat \u0026gt; replication.json \u0026lt;\u0026lt; EOF { \u0026#34;Role\u0026#34;: \u0026#34;arn:aws:iam::ACCOUNT_ID:role/replication-role\u0026#34;, \u0026#34;Rules\u0026#34;: [ { \u0026#34;ID\u0026#34;: \u0026#34;ReplicateToBackup\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Enabled\u0026#34;, \u0026#34;Filter\u0026#34;: { \u0026#34;Prefix\u0026#34;: \u0026#34;important/\u0026#34; }, \u0026#34;Destination\u0026#34;: { \u0026#34;Bucket\u0026#34;: \u0026#34;arn:aws:s3:::backup-bucket-name\u0026#34;, \u0026#34;StorageClass\u0026#34;: \u0026#34;STANDARD_IA\u0026#34; } } ] } EOF # 套用複製規則 aws s3api put-bucket-replication --bucket my-bucket-name --replication-configuration file://replication.json # 查看複製規則 aws s3api get-bucket-replication --bucket my-bucket-name # 刪除複製規則 aws s3api delete-bucket-replication --bucket my-bucket-name 常用 S3 技巧 # 產生預簽名 URL (臨時存取連結) aws s3 presign s3://my-bucket-name/file.txt --expires-in 3600 # 計算檔案 MD5 雜湊值 aws s3api head-object --bucket my-bucket-name --key file.txt --query \u0026#39;ETag\u0026#39; --output text # 批次操作 (使用 xargs) aws s3 ls s3://my-bucket-name --recursive | grep \u0026#34;.log\u0026#34; | awk \u0026#39;{print $4}\u0026#39; | xargs -I {} aws s3 rm s3://my-bucket-name/{} # 監控傳輸進度 aws s3 cp large-file.zip s3://my-bucket-name/ --cli-read-timeout 0 --cli-write-timeout 0 # 設定多部分上傳閾值 aws configure set default.s3.multipart_threshold 64MB aws configure set default.s3.max_concurrent_requests 10 # 使用不同的 storage class aws s3 cp file.txt s3://my-bucket-name/ --storage-class STANDARD_IA aws s3 cp file.txt s3://my-bucket-name/ --storage-class GLACIER # 加密上傳 aws s3 cp file.txt s3://my-bucket-name/ --sse AES256 aws s3 cp file.txt s3://my-bucket-name/ --sse aws:kms --sse-kms-key-id alias/my-key ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://clarence.tw/notes/aws/aws-cli/","summary":"\u003c!-- AWS CLI 安裝與設定 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eAWS CLI 安裝與設定\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003e\u003cstrong\u003e安裝 AWS CLI：\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# macOS (使用 Homebrew)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew install awscli\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Ubuntu/Debian\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo apt update\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo apt install awscli\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 使用 pip 安裝\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epip install awscli\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 安裝 AWS CLI v2 (推薦)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecurl \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\u0026#34;\u003c/span\u003e -o \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;awscliv2.zip\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eunzip awscliv2.zip\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo ./aws/install\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 驗證安裝\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eaws --version\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cstrong\u003e設定 AWS CLI：\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 基本設定\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eaws configure\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 會提示輸入：\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# AWS Access Key ID\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# AWS Secret Access Key  \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Default region name (例如: us-east-1)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Default output format (json/text/table)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 設定特定 profile\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eaws configure --profile myprofile\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看設定\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eaws configure list\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eaws configure list --profile myprofile\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 設定單一參數\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eaws configure set region ap-northeast-1\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eaws configure set output json --profile myprofile\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cstrong\u003e環境變數設定：\u003c/strong\u003e\u003c/p\u003e","tags":null,"title":"AWS CLI 基礎指令"},{"categories":null,"contents":" Launchpad 管理 # 重置 Launchpad 排列 defaults write com.apple.dock ResetLaunchPad -bool true killall Dock # 設定 Launchpad 每頁顯示的 app 數量 # 設定每行顯示數量 (預設 7) defaults write com.apple.dock springboard-columns -int 8 # 設定每列顯示數量 (預設 5) defaults write com.apple.dock springboard-rows -int 6 killall Dock # 恢復預設設定 defaults delete com.apple.dock springboard-columns defaults delete com.apple.dock springboard-rows killall Dock Dock 設定 # 隱藏/顯示 Dock defaults write com.apple.dock autohide -bool true defaults write com.apple.dock autohide -bool false killall Dock # 設定 Dock 大小 defaults write com.apple.dock tilesize -int 50 killall Dock # 設定 Dock 位置 (left, bottom, right) defaults write com.apple.dock orientation -string \u0026#34;left\u0026#34; killall Dock # 移除 Dock 中所有 app (只保留 Finder 和垃圾桶) defaults write com.apple.dock persistent-apps -array killall Dock # 顯示隱藏的 app 圖示 (半透明效果) defaults write com.apple.dock showhidden -bool true killall Dock # 加快 Dock 動畫速度 defaults write com.apple.dock autohide-time-modifier -float 0.5 killall Dock Finder 設定 # 顯示隱藏檔案 defaults write com.apple.finder AppleShowAllFiles -bool true killall Finder # 隱藏隱藏檔案 defaults write com.apple.finder AppleShowAllFiles -bool false killall Finder # 顯示副檔名 defaults write NSGlobalDomain AppleShowAllExtensions -bool true killall Finder # 顯示路徑列 defaults write com.apple.finder ShowPathbar -bool true # 顯示狀態列 defaults write com.apple.finder ShowStatusBar -bool true # 設定預設檢視方式 (icnv=圖示, Nlsv=列表, clmv=欄位, Flwv=Cover Flow) defaults write com.apple.finder FXPreferredViewStyle -string \u0026#34;Nlsv\u0026#34; # 設定新 Finder 視窗開啟位置為家目錄 defaults write com.apple.finder NewWindowTarget -string \u0026#34;PfHm\u0026#34; # 停用清空垃圾桶警告 defaults write com.apple.finder WarnOnEmptyTrash -bool false 截圖設定 # 更改截圖儲存位置 defaults write com.apple.screencapture location ~/Desktop/Screenshots killall SystemUIServer # 更改截圖檔案格式 (png, jpg, gif, pdf, tiff) defaults write com.apple.screencapture type -string \u0026#34;jpg\u0026#34; # 移除截圖檔名中的陰影 defaults write com.apple.screencapture disable-shadow -bool true # 截圖不顯示浮動縮圖 defaults write com.apple.screencapture show-thumbnail -bool false # 截圖快捷鍵 # Cmd+Shift+3: 全螢幕截圖 # Cmd+Shift+4: 選取區域截圖 # Cmd+Shift+4+Space: 視窗截圖 # Cmd+Shift+5: 截圖工具列 系統資訊查詢 # 查看 macOS 版本 sw_vers sw_vers -productVersion # 查看系統資訊 system_profiler SPSoftwareDataType system_profiler SPHardwareDataType # 查看 CPU 資訊 sysctl -n machdep.cpu.brand_string sysctl -n hw.ncpu # CPU 核心數 # 查看記憶體資訊 sysctl -n hw.memsize # 總記憶體 (bytes) vm_stat # 記憶體使用統計 # 查看磁碟使用情況 df -h diskutil list # 查看網路介面 ifconfig networksetup -listallhardwareports # 查看已安裝的應用程式 ls /Applications system_profiler SPApplicationsDataType 網路設定 # 查看網路設定 networksetup -listallhardwareports networksetup -getinfo \u0026#34;Wi-Fi\u0026#34; # 設定 DNS sudo networksetup -setdnsservers \u0026#34;Wi-Fi\u0026#34; 8.8.8.8 1.1.1.1 sudo networksetup -setdnsservers \u0026#34;Wi-Fi\u0026#34; Empty # 清除 DNS # 重新整理 DNS 快取 sudo dscacheutil -flushcache sudo killall -HUP mDNSResponder # 查看 Wi-Fi 密碼 (需要管理員密碼) security find-generic-password -wa \u0026#34;WiFi名稱\u0026#34; # 掃描 Wi-Fi 網路 /System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -s # 連接 Wi-Fi networksetup -setairportnetwork en0 \u0026#34;WiFi名稱\u0026#34; \u0026#34;密碼\u0026#34; 電源管理 # 查看電池資訊 pmset -g batt system_profiler SPPowerDataType # 查看電源設定 pmset -g # 設定睡眠時間 (分鐘) sudo pmset -a displaysleep 10 # 螢幕睡眠 sudo pmset -a sleep 30 # 系統睡眠 # 防止系統睡眠 caffeinate -d # 防止螢幕睡眠 caffeinate -i # 防止系統睡眠 caffeinate -s # 防止系統睡眠 (AC 電源時) # 立即睡眠 pmset sleepnow # 查看睡眠/喚醒歷史 pmset -g log | grep -E \u0026#34;(Sleep|Wake)\u0026#34; 應用程式管理 # 強制結束應用程式 killall \u0026#34;應用程式名稱\u0026#34; pkill -f \u0026#34;應用程式名稱\u0026#34; # 查看運行中的程序 ps aux | grep \u0026#34;應用程式名稱\u0026#34; top -o cpu # 按 CPU 使用率排序 # 開啟應用程式 open -a \u0026#34;應用程式名稱\u0026#34; open /Applications/Safari.app # 開啟檔案 (使用預設應用程式) open file.txt open . # 在 Finder 中開啟當前目錄 # 查看應用程式資訊 mdls /Applications/Safari.app 檔案系統操作 # 顯示檔案/目錄的詳細資訊 ls -la@ # 包含擴展屬性 stat filename # 查看檔案類型 file filename # 建立符號連結 ln -s /path/to/original /path/to/link # 查看目錄大小 du -sh /path/to/directory du -h -d 1 # 只顯示一層深度 # 尋找檔案 find /path -name \u0026#34;*.txt\u0026#34; mdfind \u0026#34;檔案名稱\u0026#34; # 使用 Spotlight 搜尋 # 壓縮/解壓縮 zip -r archive.zip folder/ unzip archive.zip tar -czf archive.tar.gz folder/ tar -xzf archive.tar.gz # 計算檔案雜湊值 md5 filename shasum -a 256 filename 系統維護 # 清理系統快取 sudo rm -rf ~/Library/Caches/* sudo rm -rf /Library/Caches/* sudo rm -rf /System/Library/Caches/* # 重建 Spotlight 索引 sudo mdutil -E / # 修復磁碟權限 (macOS 10.11 之前) sudo diskutil repairPermissions / # 驗證/修復磁碟 diskutil verifyVolume / sudo diskutil repairVolume / # 查看系統日誌 log show --predicate \u0026#39;process == \u0026#34;kernel\u0026#34;\u0026#39; --last 1h console # 開啟 Console 應用程式 # 重置 NVRAM/PRAM # 開機時按住 Option+Command+P+R # 重置 SMC (系統管理控制器) # MacBook: 關機後按住 Shift+Control+Option+電源鍵 10 秒 ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://clarence.tw/notes/mac/launchpad/","summary":"\u003c!-- Launchpad 管理 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eLaunchpad 管理\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 重置 Launchpad 排列\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.dock ResetLaunchPad -bool true\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekillall Dock\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 設定 Launchpad 每頁顯示的 app 數量\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 設定每行顯示數量 (預設 7)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.dock springboard-columns -int \u003cspan style=\"color:#ae81ff\"\u003e8\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 設定每列顯示數量 (預設 5)  \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.dock springboard-rows -int \u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekillall Dock\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 恢復預設設定\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults delete com.apple.dock springboard-columns\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults delete com.apple.dock springboard-rows\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekillall Dock\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- Dock 設定 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eDock 設定\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 隱藏/顯示 Dock\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.dock autohide -bool true\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.dock autohide -bool false\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekillall Dock\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 設定 Dock 大小\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.dock tilesize -int \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekillall Dock\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 設定 Dock 位置 (left, bottom, right)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.dock orientation -string \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;left\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekillall Dock\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 移除 Dock 中所有 app (只保留 Finder 和垃圾桶)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.dock persistent-apps -array\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekillall Dock\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 顯示隱藏的 app 圖示 (半透明效果)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.dock showhidden -bool true\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekillall Dock\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 加快 Dock 動畫速度\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.dock autohide-time-modifier -float 0.5\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekillall Dock\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- Finder 設定 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eFinder 設定\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 顯示隱藏檔案\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.finder AppleShowAllFiles -bool true\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekillall Finder\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 隱藏隱藏檔案\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.finder AppleShowAllFiles -bool false\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekillall Finder\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 顯示副檔名\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write NSGlobalDomain AppleShowAllExtensions -bool true\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekillall Finder\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 顯示路徑列\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.finder ShowPathbar -bool true\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 顯示狀態列\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.finder ShowStatusBar -bool true\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 設定預設檢視方式 (icnv=圖示, Nlsv=列表, clmv=欄位, Flwv=Cover Flow)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.finder FXPreferredViewStyle -string \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Nlsv\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 設定新 Finder 視窗開啟位置為家目錄\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.finder NewWindowTarget -string \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;PfHm\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 停用清空垃圾桶警告\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.finder WarnOnEmptyTrash -bool false\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- 截圖設定 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003e截圖設定\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 更改截圖儲存位置\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.screencapture location ~/Desktop/Screenshots\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekillall SystemUIServer\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 更改截圖檔案格式 (png, jpg, gif, pdf, tiff)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.screencapture type -string \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;jpg\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 移除截圖檔名中的陰影\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.screencapture disable-shadow -bool true\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 截圖不顯示浮動縮圖\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edefaults write com.apple.screencapture show-thumbnail -bool false\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 截圖快捷鍵\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Cmd+Shift+3: 全螢幕截圖\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Cmd+Shift+4: 選取區域截圖  \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Cmd+Shift+4+Space: 視窗截圖\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Cmd+Shift+5: 截圖工具列\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- 系統資訊查詢 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003e系統資訊查詢\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看 macOS 版本\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esw_vers\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esw_vers -productVersion\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看系統資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystem_profiler SPSoftwareDataType\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystem_profiler SPHardwareDataType\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看 CPU 資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esysctl -n machdep.cpu.brand_string\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esysctl -n hw.ncpu  \u003cspan style=\"color:#75715e\"\u003e# CPU 核心數\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看記憶體資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esysctl -n hw.memsize  \u003cspan style=\"color:#75715e\"\u003e# 總記憶體 (bytes)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003evm_stat  \u003cspan style=\"color:#75715e\"\u003e# 記憶體使用統計\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看磁碟使用情況\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edf -h\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ediskutil list\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看網路介面\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eifconfig\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enetworksetup -listallhardwareports\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看已安裝的應用程式\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003els /Applications\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystem_profiler SPApplicationsDataType\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- 網路設定 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003e網路設定\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看網路設定\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enetworksetup -listallhardwareports\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enetworksetup -getinfo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Wi-Fi\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 設定 DNS\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo networksetup -setdnsservers \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Wi-Fi\u0026#34;\u003c/span\u003e 8.8.8.8 1.1.1.1\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo networksetup -setdnsservers \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Wi-Fi\u0026#34;\u003c/span\u003e Empty  \u003cspan style=\"color:#75715e\"\u003e# 清除 DNS\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 重新整理 DNS 快取\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo dscacheutil -flushcache\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo killall -HUP mDNSResponder\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看 Wi-Fi 密碼 (需要管理員密碼)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esecurity find-generic-password -wa \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;WiFi名稱\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 掃描 Wi-Fi 網路\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -s\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 連接 Wi-Fi\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enetworksetup -setairportnetwork en0 \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;WiFi名稱\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;密碼\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- 電源管理 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003e電源管理\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看電池資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epmset -g batt\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystem_profiler SPPowerDataType\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看電源設定\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epmset -g\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 設定睡眠時間 (分鐘)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo pmset -a displaysleep \u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e  \u003cspan style=\"color:#75715e\"\u003e# 螢幕睡眠\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo pmset -a sleep \u003cspan style=\"color:#ae81ff\"\u003e30\u003c/span\u003e         \u003cspan style=\"color:#75715e\"\u003e# 系統睡眠\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 防止系統睡眠\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecaffeinate -d  \u003cspan style=\"color:#75715e\"\u003e# 防止螢幕睡眠\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecaffeinate -i  \u003cspan style=\"color:#75715e\"\u003e# 防止系統睡眠\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecaffeinate -s  \u003cspan style=\"color:#75715e\"\u003e# 防止系統睡眠 (AC 電源時)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 立即睡眠\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epmset sleepnow\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看睡眠/喚醒歷史\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epmset -g log | grep -E \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;(Sleep|Wake)\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- 應用程式管理 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003e應用程式管理\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 強制結束應用程式\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekillall \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;應用程式名稱\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epkill -f \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;應用程式名稱\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看運行中的程序\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eps aux | grep \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;應用程式名稱\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etop -o cpu  \u003cspan style=\"color:#75715e\"\u003e# 按 CPU 使用率排序\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 開啟應用程式\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eopen -a \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;應用程式名稱\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eopen /Applications/Safari.app\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 開啟檔案 (使用預設應用程式)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eopen file.txt\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eopen .  \u003cspan style=\"color:#75715e\"\u003e# 在 Finder 中開啟當前目錄\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看應用程式資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emdls /Applications/Safari.app\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- 檔案系統操作 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003e檔案系統操作\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 顯示檔案/目錄的詳細資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003els -la@  \u003cspan style=\"color:#75715e\"\u003e# 包含擴展屬性\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003estat filename\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看檔案類型\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003efile filename\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 建立符號連結\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eln -s /path/to/original /path/to/link\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看目錄大小\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edu -sh /path/to/directory\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edu -h -d \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e  \u003cspan style=\"color:#75715e\"\u003e# 只顯示一層深度\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 尋找檔案\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003efind /path -name \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;*.txt\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emdfind \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;檔案名稱\u0026#34;\u003c/span\u003e  \u003cspan style=\"color:#75715e\"\u003e# 使用 Spotlight 搜尋\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 壓縮/解壓縮\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ezip -r archive.zip folder/\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eunzip archive.zip\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etar -czf archive.tar.gz folder/\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etar -xzf archive.tar.gz\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 計算檔案雜湊值\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emd5 filename\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eshasum -a \u003cspan style=\"color:#ae81ff\"\u003e256\u003c/span\u003e filename\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- 系統維護 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003e系統維護\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 清理系統快取\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo rm -rf ~/Library/Caches/*\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo rm -rf /Library/Caches/*\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo rm -rf /System/Library/Caches/*\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 重建 Spotlight 索引\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo mdutil -E /\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 修復磁碟權限 (macOS 10.11 之前)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo diskutil repairPermissions /\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 驗證/修復磁碟\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ediskutil verifyVolume /\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo diskutil repairVolume /\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看系統日誌\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elog show --predicate \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;process == \u0026#34;kernel\u0026#34;\u0026#39;\u003c/span\u003e --last 1h\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003econsole  \u003cspan style=\"color:#75715e\"\u003e# 開啟 Console 應用程式\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 重置 NVRAM/PRAM\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 開機時按住 Option+Command+P+R\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 重置 SMC (系統管理控制器)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# MacBook: 關機後按住 Shift+Control+Option+電源鍵 10 秒\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e","tags":null,"title":"Mac 系統管理指令"},{"categories":null,"contents":" Ollama 安裝 # Linux/macOS 安裝 curl -fsSL https://ollama.ai/install.sh | sh # 啟動服務 ollama serve # 下載模型 ollama pull gemma2:9b ollama pull gemma2:27b ollama pull llama2 ollama pull mistral 常用模型指令 # 列出已安裝模型 ollama list # 執行對話 (使用 Gemma2) ollama run gemma2:9b # 刪除模型 ollama rm gemma2:9b # 查看模型資訊 ollama show gemma2:9b API 使用範例 import requests import json def chat_with_ollama(prompt, model=\u0026#34;gemma2:9b\u0026#34;): url = \u0026#34;http://localhost:11434/api/generate\u0026#34; data = { \u0026#34;model\u0026#34;: model, \u0026#34;prompt\u0026#34;: prompt, \u0026#34;stream\u0026#34;: False } response = requests.post(url, json=data) return response.json()[\u0026#34;response\u0026#34;] # 使用範例 - 文本摘要 def summarize_text(text): prompt = f\u0026#34;\u0026#34;\u0026#34;請將以下文字進行摘要，保留重點資訊： {text} 摘要：\u0026#34;\u0026#34;\u0026#34; return chat_with_ollama(prompt, \u0026#34;gemma2:9b\u0026#34;) # RTX 4090 最佳化設定 def chat_with_gemma2_optimized(prompt): url = \u0026#34;http://localhost:11434/api/generate\u0026#34; data = { \u0026#34;model\u0026#34;: \u0026#34;gemma2:9b\u0026#34;, \u0026#34;prompt\u0026#34;: prompt, \u0026#34;stream\u0026#34;: False, \u0026#34;options\u0026#34;: { \u0026#34;temperature\u0026#34;: 0.7, \u0026#34;top_p\u0026#34;: 0.9, \u0026#34;num_ctx\u0026#34;: 4096 # RTX 4090 24GB 可支援更大 context } } response = requests.post(url, json=data) return response.json()[\u0026#34;response\u0026#34;] # 使用範例 result = summarize_text(\u0026#34;這是一段很長的文字需要摘要...\u0026#34;) print(result) ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://clarence.tw/notes/llm/ollama-setup/","summary":"\u003c!-- Ollama 安裝 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eOllama 安裝\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Linux/macOS 安裝\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecurl -fsSL https://ollama.ai/install.sh | sh\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 啟動服務\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eollama serve\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 下載模型\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eollama pull gemma2:9b\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eollama pull gemma2:27b\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eollama pull llama2\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eollama pull mistral\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- 常用模型指令 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003e常用模型指令\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 列出已安裝模型\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eollama list\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 執行對話 (使用 Gemma2)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eollama run gemma2:9b\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 刪除模型\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eollama rm gemma2:9b\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看模型資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eollama show gemma2:9b\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- API 使用 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eAPI 使用範例\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e requests\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e json\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003echat_with_ollama\u003c/span\u003e(prompt, model\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;gemma2:9b\u0026#34;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;http://localhost:11434/api/generate\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    data \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;model\u0026#34;\u003c/span\u003e: model,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;prompt\u0026#34;\u003c/span\u003e: prompt,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;stream\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003eFalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    response \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e requests\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epost(url, json\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003edata)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejson()[\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;response\u0026#34;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 使用範例 - 文本摘要\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003esummarize_text\u003c/span\u003e(text):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    prompt \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#34;\u0026#34;請將以下文字進行摘要，保留重點資訊：\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003etext\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e摘要：\u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e chat_with_ollama(prompt, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;gemma2:9b\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# RTX 4090 最佳化設定\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003echat_with_gemma2_optimized\u003c/span\u003e(prompt):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;http://localhost:11434/api/generate\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    data \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;model\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;gemma2:9b\u0026#34;\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;prompt\u0026#34;\u003c/span\u003e: prompt,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;stream\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003eFalse\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;options\u0026#34;\u003c/span\u003e: {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;temperature\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003e0.7\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;top_p\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003e0.9\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;num_ctx\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003e4096\u003c/span\u003e  \u003cspan style=\"color:#75715e\"\u003e# RTX 4090 24GB 可支援更大 context\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    response \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e requests\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epost(url, json\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003edata)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e response\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejson()[\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;response\u0026#34;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 使用範例\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eresult \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e summarize_text(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;這是一段很長的文字需要摘要...\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eprint(result)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e","tags":null,"title":"Ollama 設定與使用"},{"categories":null,"contents":" Homebrew (macOS) 安裝 Homebrew：\n# 安裝 Homebrew /bin/bash -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\u0026#34; # 設定環境變數 (Apple Silicon Mac) echo \u0026#39;eval \u0026#34;$(/opt/homebrew/bin/brew shellenv)\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.zshrc source ~/.zshrc # 設定環境變數 (Intel Mac) echo \u0026#39;eval \u0026#34;$(/usr/local/bin/brew shellenv)\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.zshrc source ~/.zshrc 常用指令：\n# 安裝套件 brew install git brew install node brew install docker brew install hugo # 安裝 GUI 應用程式 brew install --cask visual-studio-code brew install --cask docker brew install --cask google-chrome # 更新套件 brew update # 更新 Homebrew 本身 brew upgrade # 更新所有套件 brew upgrade git # 更新特定套件 # 搜尋套件 brew search nginx brew search --cask chrome # 查看已安裝套件 brew list brew list --cask # 移除套件 brew uninstall git brew uninstall --cask docker # 清理舊版本 brew cleanup brew cleanup git # 查看套件資訊 brew info git brew deps git # 查看相依性 APT (Ubuntu/Debian) 更新套件清單：\n# 更新套件清單 sudo apt update # 升級所有套件 sudo apt upgrade # 升級系統 (包含核心) sudo apt full-upgrade # 更新並升級 (一次完成) sudo apt update \u0026amp;\u0026amp; sudo apt upgrade -y 安裝套件：\n# 安裝單一套件 sudo apt install git sudo apt install nginx sudo apt install docker.io # 安裝多個套件 sudo apt install git curl wget vim # 安裝特定版本 sudo apt install nginx=1.18.0-0ubuntu1 # 從 .deb 檔案安裝 sudo dpkg -i package.deb sudo apt install -f # 修復相依性問題 移除套件：\n# 移除套件 (保留設定檔) sudo apt remove nginx # 完全移除套件 (包含設定檔) sudo apt purge nginx # 移除不需要的相依套件 sudo apt autoremove # 移除並清理 sudo apt remove nginx \u0026amp;\u0026amp; sudo apt autoremove 搜尋與查詢：\n# 搜尋套件 apt search nginx apt search \u0026#34;web server\u0026#34; # 查看套件資訊 apt show nginx apt info docker.io # 查看已安裝套件 apt list --installed apt list --installed | grep nginx # 查看可升級套件 apt list --upgradable # 查看套件相依性 apt depends nginx apt rdepends nginx # 反向相依性 清理系統：\n# 清理下載的套件檔案 sudo apt clean # 清理部分快取 sudo apt autoclean # 修復損壞的套件 sudo apt install -f # 重新設定套件 sudo dpkg-reconfigure package-name YUM/DNF (CentOS/RHEL/Fedora) DNF (Fedora)：\n# 更新套件清單 sudo dnf check-update # 升級所有套件 sudo dnf upgrade # 安裝套件 sudo dnf install git sudo dnf install nginx # 移除套件 sudo dnf remove nginx # 搜尋套件 dnf search nginx # 查看套件資訊 dnf info nginx # 查看已安裝套件 dnf list installed # 清理快取 sudo dnf clean all YUM (CentOS 7)：\n# 更新套件 sudo yum update # 安裝套件 sudo yum install git sudo yum install epel-release # EPEL 倉庫 # 移除套件 sudo yum remove nginx # 搜尋套件 yum search nginx # 查看套件資訊 yum info nginx # 查看已安裝套件 yum list installed # 清理快取 sudo yum clean all Snap (Universal Packages) # 安裝 snapd (如果尚未安裝) sudo apt install snapd # 安裝 snap 套件 sudo snap install code --classic sudo snap install docker sudo snap install hugo # 查看已安裝的 snap snap list # 更新 snap 套件 sudo snap refresh sudo snap refresh code # 移除 snap 套件 sudo snap remove code # 搜尋 snap 套件 snap find \u0026#34;text editor\u0026#34; # 查看 snap 資訊 snap info code # 查看 snap 版本 snap version 常用開發工具快速安裝 Node.js 與 npm：\n# Ubuntu/Debian curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash - sudo apt-get install -y nodejs # macOS brew install node # 驗證安裝 node --version npm --version Docker：\n# Ubuntu sudo apt update sudo apt install apt-transport-https ca-certificates curl software-properties-common curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - sudo add-apt-repository \u0026#34;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\u0026#34; sudo apt update sudo apt install docker-ce # macOS brew install --cask docker # 啟動 Docker 服務 sudo systemctl start docker sudo systemctl enable docker # 將使用者加入 docker 群組 sudo usermod -aG docker $USER Git：\n# Ubuntu/Debian sudo apt install git # macOS brew install git # 設定 Git git config --global user.name \u0026#34;Your Name\u0026#34; git config --global user.email \u0026#34;your.email@example.com\u0026#34; Hugo：\n# Ubuntu (從 GitHub 下載) wget https://github.com/gohugoio/hugo/releases/download/v0.148.1/hugo_extended_0.148.1_linux-amd64.deb sudo dpkg -i hugo_extended_0.148.1_linux-amd64.deb # macOS brew install hugo # 驗證安裝 hugo version ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://clarence.tw/notes/system/package-management/","summary":"\u003c!-- Homebrew 安裝與使用 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eHomebrew (macOS)\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003e\u003cstrong\u003e安裝 Homebrew：\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 安裝 Homebrew\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e/bin/bash -c \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003e$(\u003c/span\u003ecurl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh\u003cspan style=\"color:#66d9ef\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 設定環境變數 (Apple Silicon Mac)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;eval \u0026#34;$(/opt/homebrew/bin/brew shellenv)\u0026#34;\u0026#39;\u003c/span\u003e \u0026gt;\u0026gt; ~/.zshrc\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esource ~/.zshrc\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 設定環境變數 (Intel Mac)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;eval \u0026#34;$(/usr/local/bin/brew shellenv)\u0026#34;\u0026#39;\u003c/span\u003e \u0026gt;\u0026gt; ~/.zshrc\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esource ~/.zshrc\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cstrong\u003e常用指令：\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 安裝套件\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew install git\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew install node\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew install docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew install hugo\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 安裝 GUI 應用程式\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew install --cask visual-studio-code\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew install --cask docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew install --cask google-chrome\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 更新套件\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew update          \u003cspan style=\"color:#75715e\"\u003e# 更新 Homebrew 本身\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew upgrade         \u003cspan style=\"color:#75715e\"\u003e# 更新所有套件\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew upgrade git     \u003cspan style=\"color:#75715e\"\u003e# 更新特定套件\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 搜尋套件\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew search nginx\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew search --cask chrome\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看已安裝套件\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew list\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew list --cask\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 移除套件\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew uninstall git\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew uninstall --cask docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 清理舊版本\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew cleanup\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew cleanup git\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看套件資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew info git\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebrew deps git        \u003cspan style=\"color:#75715e\"\u003e# 查看相依性\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- APT 套件管理 (Ubuntu/Debian) --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eAPT (Ubuntu/Debian)\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003e\u003cstrong\u003e更新套件清單：\u003c/strong\u003e\u003c/p\u003e","tags":null,"title":"套件管理指令"},{"categories":null,"contents":" 系統資訊查詢 # 查看系統資訊 uname -a # 完整系統資訊 uname -r # 核心版本 lsb_release -a # 發行版資訊 (Ubuntu/Debian) cat /etc/os-release # 系統版本資訊 # 查看硬體資訊 lscpu # CPU 資訊 free -h # 記憶體使用情況 df -h # 磁碟使用情況 lsblk # 區塊設備資訊 lsusb # USB 設備 lspci # PCI 設備 # 查看網路資訊 ip addr show # 網路介面資訊 ip route show # 路由表 netstat -tuln # 網路連線狀態 ss -tuln # 現代版 netstat # 查看程序資訊 ps aux # 所有程序 top # 即時程序監控 htop # 更好的 top (需安裝) pgrep nginx # 尋找特定程序 檔案與目錄操作 # 檔案操作 ls -la # 詳細列出檔案 find /path -name \u0026#34;*.log\u0026#34; # 尋找檔案 locate filename # 快速尋找檔案 (需 updatedb) which command # 尋找指令位置 whereis command # 尋找指令、手冊等 # 檔案權限 chmod 755 file # 設定檔案權限 chmod +x script.sh # 加入執行權限 chown user:group file # 變更擁有者 chgrp group file # 變更群組 # 檔案內容 cat file.txt # 顯示檔案內容 less file.txt # 分頁顯示 head -n 10 file.txt # 顯示前 10 行 tail -f /var/log/syslog # 即時顯示檔案末尾 grep \u0026#34;error\u0026#34; file.txt # 搜尋文字 # 壓縮與解壓縮 tar -czf archive.tar.gz folder/ # 壓縮 tar -xzf archive.tar.gz # 解壓縮 zip -r archive.zip folder/ # ZIP 壓縮 unzip archive.zip # ZIP 解壓縮 服務管理 (systemd) # 服務狀態 sudo systemctl status nginx # 查看服務狀態 sudo systemctl is-active nginx # 檢查是否運行 sudo systemctl is-enabled nginx # 檢查是否開機啟動 # 服務控制 sudo systemctl start nginx # 啟動服務 sudo systemctl stop nginx # 停止服務 sudo systemctl restart nginx # 重啟服務 sudo systemctl reload nginx # 重新載入設定 # 開機啟動 sudo systemctl enable nginx # 設定開機啟動 sudo systemctl disable nginx # 取消開機啟動 # 查看日誌 sudo journalctl -u nginx # 查看服務日誌 sudo journalctl -u nginx -f # 即時查看日誌 sudo journalctl -u nginx --since \u0026#34;1 hour ago\u0026#34; # 查看最近一小時日誌 # 列出服務 systemctl list-units --type=service # 所有服務 systemctl list-units --type=service --state=running # 運行中服務 systemctl list-unit-files --type=service # 所有服務檔案 網路診斷工具 # 連線測試 ping google.com # 測試連線 ping -c 4 8.8.8.8 # 發送 4 個封包 # 路由追蹤 traceroute google.com # 追蹤路由 mtr google.com # 持續追蹤 (需安裝) # 埠掃描 nmap localhost # 掃描本機埠 nmap -p 80,443 example.com # 掃描特定埠 # 網路連線 netstat -tuln # 查看監聽埠 ss -tuln # 現代版 netstat lsof -i :80 # 查看使用特定埠的程序 # 下載工具 wget https://example.com/file.zip # 下載檔案 curl -O https://example.com/file.zip # 使用 curl 下載 curl -I https://example.com # 只取得 HTTP 標頭 效能監控 # CPU 監控 top # 基本監控 htop # 進階監控 (需安裝) iotop # I/O 監控 (需安裝) vmstat 1 # 虛擬記憶體統計 # 記憶體監控 free -h # 記憶體使用情況 cat /proc/meminfo # 詳細記憶體資訊 # 磁碟監控 df -h # 磁碟使用情況 du -sh /path/* # 目錄大小 iostat 1 # I/O 統計 (需安裝 sysstat) # 網路監控 iftop # 網路流量監控 (需安裝) nethogs # 按程序顯示網路使用 (需安裝) 定時任務 (Cron) # 編輯 crontab crontab -e # 編輯當前使用者的 crontab sudo crontab -e # 編輯 root 的 crontab # 查看 crontab crontab -l # 列出當前使用者的 crontab sudo crontab -l # 列出 root 的 crontab # Cron 時間格式 # 分 時 日 月 週 指令 # 0 2 * * * /path/to/script.sh # 常用範例 0 2 * * * # 每天凌晨 2 點 0 */6 * * * # 每 6 小時 0 0 1 * * # 每月 1 號 0 0 * * 0 # 每週日 */5 * * * * # 每 5 分鐘 # 查看 cron 日誌 sudo tail -f /var/log/cron # CentOS/RHEL sudo tail -f /var/log/syslog # Ubuntu/Debian ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://clarence.tw/notes/system/system-commands/","summary":"\u003c!-- 系統資訊查詢 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003e系統資訊查詢\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看系統資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003euname -a                \u003cspan style=\"color:#75715e\"\u003e# 完整系統資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003euname -r                \u003cspan style=\"color:#75715e\"\u003e# 核心版本\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elsb_release -a          \u003cspan style=\"color:#75715e\"\u003e# 發行版資訊 (Ubuntu/Debian)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecat /etc/os-release     \u003cspan style=\"color:#75715e\"\u003e# 系統版本資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看硬體資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elscpu                   \u003cspan style=\"color:#75715e\"\u003e# CPU 資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003efree -h                 \u003cspan style=\"color:#75715e\"\u003e# 記憶體使用情況\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edf -h                   \u003cspan style=\"color:#75715e\"\u003e# 磁碟使用情況\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elsblk                   \u003cspan style=\"color:#75715e\"\u003e# 區塊設備資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elsusb                   \u003cspan style=\"color:#75715e\"\u003e# USB 設備\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elspci                   \u003cspan style=\"color:#75715e\"\u003e# PCI 設備\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看網路資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eip addr show            \u003cspan style=\"color:#75715e\"\u003e# 網路介面資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eip route show           \u003cspan style=\"color:#75715e\"\u003e# 路由表\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enetstat -tuln           \u003cspan style=\"color:#75715e\"\u003e# 網路連線狀態\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ess -tuln                \u003cspan style=\"color:#75715e\"\u003e# 現代版 netstat\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看程序資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eps aux                  \u003cspan style=\"color:#75715e\"\u003e# 所有程序\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etop                     \u003cspan style=\"color:#75715e\"\u003e# 即時程序監控\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ehtop                    \u003cspan style=\"color:#75715e\"\u003e# 更好的 top (需安裝)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epgrep nginx             \u003cspan style=\"color:#75715e\"\u003e# 尋找特定程序\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- 檔案與目錄操作 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003e檔案與目錄操作\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 檔案操作\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003els -la                  \u003cspan style=\"color:#75715e\"\u003e# 詳細列出檔案\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003efind /path -name \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;*.log\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e# 尋找檔案\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elocate filename         \u003cspan style=\"color:#75715e\"\u003e# 快速尋找檔案 (需 updatedb)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ewhich command           \u003cspan style=\"color:#75715e\"\u003e# 尋找指令位置\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ewhereis command         \u003cspan style=\"color:#75715e\"\u003e# 尋找指令、手冊等\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 檔案權限\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003echmod \u003cspan style=\"color:#ae81ff\"\u003e755\u003c/span\u003e file          \u003cspan style=\"color:#75715e\"\u003e# 設定檔案權限\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003echmod +x script.sh      \u003cspan style=\"color:#75715e\"\u003e# 加入執行權限\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003echown user:group file   \u003cspan style=\"color:#75715e\"\u003e# 變更擁有者\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003echgrp group file        \u003cspan style=\"color:#75715e\"\u003e# 變更群組\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 檔案內容\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecat file.txt            \u003cspan style=\"color:#75715e\"\u003e# 顯示檔案內容\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eless file.txt           \u003cspan style=\"color:#75715e\"\u003e# 分頁顯示\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ehead -n \u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e file.txt     \u003cspan style=\"color:#75715e\"\u003e# 顯示前 10 行\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etail -f /var/log/syslog \u003cspan style=\"color:#75715e\"\u003e# 即時顯示檔案末尾\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003egrep \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;error\u0026#34;\u003c/span\u003e file.txt   \u003cspan style=\"color:#75715e\"\u003e# 搜尋文字\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 壓縮與解壓縮\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etar -czf archive.tar.gz folder/     \u003cspan style=\"color:#75715e\"\u003e# 壓縮\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etar -xzf archive.tar.gz             \u003cspan style=\"color:#75715e\"\u003e# 解壓縮\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ezip -r archive.zip folder/          \u003cspan style=\"color:#75715e\"\u003e# ZIP 壓縮\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eunzip archive.zip                   \u003cspan style=\"color:#75715e\"\u003e# ZIP 解壓縮\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- 服務管理 (systemd) --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003e服務管理 (systemd)\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 服務狀態\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo systemctl status nginx        \u003cspan style=\"color:#75715e\"\u003e# 查看服務狀態\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo systemctl is-active nginx     \u003cspan style=\"color:#75715e\"\u003e# 檢查是否運行\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo systemctl is-enabled nginx    \u003cspan style=\"color:#75715e\"\u003e# 檢查是否開機啟動\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 服務控制\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo systemctl start nginx         \u003cspan style=\"color:#75715e\"\u003e# 啟動服務\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo systemctl stop nginx          \u003cspan style=\"color:#75715e\"\u003e# 停止服務\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo systemctl restart nginx       \u003cspan style=\"color:#75715e\"\u003e# 重啟服務\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo systemctl reload nginx        \u003cspan style=\"color:#75715e\"\u003e# 重新載入設定\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 開機啟動\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo systemctl enable nginx        \u003cspan style=\"color:#75715e\"\u003e# 設定開機啟動\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo systemctl disable nginx       \u003cspan style=\"color:#75715e\"\u003e# 取消開機啟動\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看日誌\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo journalctl -u nginx           \u003cspan style=\"color:#75715e\"\u003e# 查看服務日誌\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo journalctl -u nginx -f        \u003cspan style=\"color:#75715e\"\u003e# 即時查看日誌\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo journalctl -u nginx --since \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;1 hour ago\u0026#34;\u003c/span\u003e  \u003cspan style=\"color:#75715e\"\u003e# 查看最近一小時日誌\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 列出服務\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystemctl list-units --type\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eservice            \u003cspan style=\"color:#75715e\"\u003e# 所有服務\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystemctl list-units --type\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eservice --state\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003erunning  \u003cspan style=\"color:#75715e\"\u003e# 運行中服務\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystemctl list-unit-files --type\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eservice       \u003cspan style=\"color:#75715e\"\u003e# 所有服務檔案\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- 網路工具 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003e網路診斷工具\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 連線測試\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eping google.com         \u003cspan style=\"color:#75715e\"\u003e# 測試連線\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eping -c \u003cspan style=\"color:#ae81ff\"\u003e4\u003c/span\u003e 8.8.8.8      \u003cspan style=\"color:#75715e\"\u003e# 發送 4 個封包\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 路由追蹤\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etraceroute google.com   \u003cspan style=\"color:#75715e\"\u003e# 追蹤路由\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emtr google.com          \u003cspan style=\"color:#75715e\"\u003e# 持續追蹤 (需安裝)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 埠掃描\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enmap localhost          \u003cspan style=\"color:#75715e\"\u003e# 掃描本機埠\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enmap -p 80,443 example.com  \u003cspan style=\"color:#75715e\"\u003e# 掃描特定埠\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 網路連線\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enetstat -tuln           \u003cspan style=\"color:#75715e\"\u003e# 查看監聽埠\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ess -tuln                \u003cspan style=\"color:#75715e\"\u003e# 現代版 netstat\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elsof -i :80             \u003cspan style=\"color:#75715e\"\u003e# 查看使用特定埠的程序\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 下載工具\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ewget https://example.com/file.zip       \u003cspan style=\"color:#75715e\"\u003e# 下載檔案\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecurl -O https://example.com/file.zip    \u003cspan style=\"color:#75715e\"\u003e# 使用 curl 下載\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecurl -I https://example.com             \u003cspan style=\"color:#75715e\"\u003e# 只取得 HTTP 標頭\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- 效能監控 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003e效能監控\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# CPU 監控\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etop                     \u003cspan style=\"color:#75715e\"\u003e# 基本監控\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ehtop                    \u003cspan style=\"color:#75715e\"\u003e# 進階監控 (需安裝)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eiotop                   \u003cspan style=\"color:#75715e\"\u003e# I/O 監控 (需安裝)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003evmstat \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e                \u003cspan style=\"color:#75715e\"\u003e# 虛擬記憶體統計\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 記憶體監控\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003efree -h                 \u003cspan style=\"color:#75715e\"\u003e# 記憶體使用情況\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecat /proc/meminfo       \u003cspan style=\"color:#75715e\"\u003e# 詳細記憶體資訊\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 磁碟監控\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edf -h                   \u003cspan style=\"color:#75715e\"\u003e# 磁碟使用情況\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edu -sh /path/*          \u003cspan style=\"color:#75715e\"\u003e# 目錄大小\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eiostat \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e                \u003cspan style=\"color:#75715e\"\u003e# I/O 統計 (需安裝 sysstat)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 網路監控\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eiftop                   \u003cspan style=\"color:#75715e\"\u003e# 網路流量監控 (需安裝)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enethogs                 \u003cspan style=\"color:#75715e\"\u003e# 按程序顯示網路使用 (需安裝)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- 定時任務 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003e定時任務 (Cron)\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 編輯 crontab\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecrontab -e              \u003cspan style=\"color:#75715e\"\u003e# 編輯當前使用者的 crontab\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo crontab -e         \u003cspan style=\"color:#75715e\"\u003e# 編輯 root 的 crontab\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看 crontab\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecrontab -l              \u003cspan style=\"color:#75715e\"\u003e# 列出當前使用者的 crontab\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo crontab -l         \u003cspan style=\"color:#75715e\"\u003e# 列出 root 的 crontab\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Cron 時間格式\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 分 時 日 月 週 指令\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 0  2  *  *  *  /path/to/script.sh\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 常用範例\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e * * *               \u003cspan style=\"color:#75715e\"\u003e# 每天凌晨 2 點\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e */6 * * *             \u003cspan style=\"color:#75715e\"\u003e# 每 6 小時\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e * *               \u003cspan style=\"color:#75715e\"\u003e# 每月 1 號\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e * * \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e               \u003cspan style=\"color:#75715e\"\u003e# 每週日\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e*/5 * * * *             \u003cspan style=\"color:#75715e\"\u003e# 每 5 分鐘\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 查看 cron 日誌\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo tail -f /var/log/cron      \u003cspan style=\"color:#75715e\"\u003e# CentOS/RHEL\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo tail -f /var/log/syslog    \u003cspan style=\"color:#75715e\"\u003e# Ubuntu/Debian\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e","tags":null,"title":"系統管理指令"},{"categories":null,"contents":" Docker 基本指令 映像檔管理：\n# 搜尋映像檔 docker search nginx docker search ubuntu # 下載映像檔 docker pull nginx docker pull nginx:1.21 docker pull ubuntu:20.04 # 列出映像檔 docker images docker image ls # 移除映像檔 docker rmi nginx docker rmi nginx:1.21 docker image rm ubuntu:20.04 # 清理未使用的映像檔 docker image prune docker image prune -a # 移除所有未使用的映像檔 容器操作 啟動容器：\n# 基本啟動 docker run nginx docker run -d nginx # 背景執行 docker run -it ubuntu bash # 互動模式 # 埠對應 docker run -d -p 8080:80 nginx # 對應埠 8080 到容器的 80 docker run -d -p 127.0.0.1:8080:80 nginx # 只綁定本機 # 掛載目錄 docker run -d -v /host/path:/container/path nginx docker run -d -v $(pwd):/app node # 掛載當前目錄 # 環境變數 docker run -d -e ENV_VAR=value nginx docker run -d --env-file .env nginx # 容器命名 docker run -d --name my-nginx nginx 容器管理：\n# 列出容器 docker ps # 運行中的容器 docker ps -a # 所有容器 docker container ls # 停止容器 docker stop container_id docker stop my-nginx docker kill container_id # 強制停止 # 啟動已停止的容器 docker start container_id docker restart container_id # 移除容器 docker rm container_id docker rm my-nginx docker rm -f container_id # 強制移除運行中的容器 # 清理停止的容器 docker container prune 容器互動與除錯 # 進入運行中的容器 docker exec -it container_id bash docker exec -it my-nginx sh # 查看容器日誌 docker logs container_id docker logs -f container_id # 即時查看日誌 docker logs --tail 100 container_id # 查看最後 100 行 # 查看容器資訊 docker inspect container_id docker stats container_id # 即時資源使用情況 docker top container_id # 容器內程序 # 複製檔案 docker cp file.txt container_id:/path/ # 複製到容器 docker cp container_id:/path/file.txt . # 從容器複製出來 # 查看容器變更 docker diff container_id Docker Compose 基本指令：\n# 啟動服務 docker-compose up docker-compose up -d # 背景執行 docker-compose up --build # 重新建置映像檔 # 停止服務 docker-compose down docker-compose down -v # 同時移除 volumes docker-compose stop # 查看服務狀態 docker-compose ps docker-compose logs docker-compose logs -f service_name # 查看特定服務日誌 # 執行指令 docker-compose exec service_name bash docker-compose run service_name command # 重啟服務 docker-compose restart docker-compose restart service_name 範例 docker-compose.yml：\nversion: \u0026#39;3.8\u0026#39; services: web: image: nginx:latest ports: - \u0026#34;8080:80\u0026#34; volumes: - ./html:/usr/share/nginx/html db: image: mysql:8.0 environment: MYSQL_ROOT_PASSWORD: password MYSQL_DATABASE: myapp volumes: - db_data:/var/lib/mysql volumes: db_data: 映像檔建置 (Dockerfile) 基本 Dockerfile：\n# Node.js 應用程式範例 FROM node:18-alpine WORKDIR /app COPY package*.json ./ RUN npm ci --only=production COPY . . EXPOSE 3000 USER node CMD [\u0026#34;npm\u0026#34;, \u0026#34;start\u0026#34;] 建置指令：\n# 建置映像檔 docker build -t my-app . docker build -t my-app:v1.0 . docker build -f Dockerfile.prod -t my-app:prod . # 多階段建置 docker build --target production -t my-app:prod . # 建置時傳入參數 docker build --build-arg NODE_ENV=production -t my-app . # 查看建置歷史 docker history my-app Docker 網路 # 列出網路 docker network ls # 建立網路 docker network create my-network docker network create --driver bridge my-bridge # 連接容器到網路 docker network connect my-network container_id # 中斷網路連接 docker network disconnect my-network container_id # 查看網路詳細資訊 docker network inspect my-network # 移除網路 docker network rm my-network # 清理未使用的網路 docker network prune Docker Volumes # 列出資料卷 docker volume ls # 建立資料卷 docker volume create my-volume # 查看資料卷詳細資訊 docker volume inspect my-volume # 使用資料卷 docker run -d -v my-volume:/data nginx # 移除資料卷 docker volume rm my-volume # 清理未使用的資料卷 docker volume prune # 備份資料卷 docker run --rm -v my-volume:/data -v $(pwd):/backup ubuntu tar czf /backup/backup.tar.gz -C /data . # 還原資料卷 docker run --rm -v my-volume:/data -v $(pwd):/backup ubuntu tar xzf /backup/backup.tar.gz -C /data Docker 系統清理 # 查看 Docker 使用空間 docker system df # 清理未使用的資源 docker system prune # 清理停止的容器、未使用的網路、映像檔 docker system prune -a # 包含未使用的映像檔 docker system prune -a --volumes # 包含未使用的資料卷 # 分別清理 docker container prune # 清理停止的容器 docker image prune # 清理未使用的映像檔 docker image prune -a # 清理所有未使用的映像檔 docker network prune # 清理未使用的網路 docker volume prune # 清理未使用的資料卷 # 強制移除所有容器 docker rm -f $(docker ps -aq) # 移除所有映像檔 docker rmi -f $(docker images -q) Docker Registry # 登入 Registry docker login docker login registry.example.com docker login -u username -p password registry.example.com # 標記映像檔 docker tag my-app:latest registry.example.com/my-app:latest docker tag my-app:latest harbor.company.com/project/my-app:v1.0 # 推送映像檔 docker push registry.example.com/my-app:latest docker push harbor.company.com/project/my-app:v1.0 # 從私有 Registry 拉取 docker pull harbor.company.com/project/my-app:v1.0 # 登出 docker logout docker logout registry.example.com ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://clarence.tw/notes/docker/docker-commands/","summary":"\u003c!-- Docker 基本指令 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eDocker 基本指令\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003e\u003cstrong\u003e映像檔管理：\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 搜尋映像檔\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker search nginx\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker search ubuntu\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 下載映像檔\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker pull nginx\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker pull nginx:1.21\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker pull ubuntu:20.04\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 列出映像檔\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker images\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker image ls\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 移除映像檔\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker rmi nginx\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker rmi nginx:1.21\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker image rm ubuntu:20.04\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 清理未使用的映像檔\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker image prune\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker image prune -a  \u003cspan style=\"color:#75715e\"\u003e# 移除所有未使用的映像檔\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- 容器操作 --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003e容器操作\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003e\u003cstrong\u003e啟動容器：\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 基本啟動\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker run nginx\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker run -d nginx                    \u003cspan style=\"color:#75715e\"\u003e# 背景執行\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker run -it ubuntu bash             \u003cspan style=\"color:#75715e\"\u003e# 互動模式\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 埠對應\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker run -d -p 8080:80 nginx         \u003cspan style=\"color:#75715e\"\u003e# 對應埠 8080 到容器的 80\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker run -d -p 127.0.0.1:8080:80 nginx  \u003cspan style=\"color:#75715e\"\u003e# 只綁定本機\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 掛載目錄\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker run -d -v /host/path:/container/path nginx\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker run -d -v \u003cspan style=\"color:#66d9ef\"\u003e$(\u003c/span\u003epwd\u003cspan style=\"color:#66d9ef\"\u003e)\u003c/span\u003e:/app node      \u003cspan style=\"color:#75715e\"\u003e# 掛載當前目錄\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 環境變數\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker run -d -e ENV_VAR\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003evalue nginx\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker run -d --env-file .env nginx\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 容器命名\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker run -d --name my-nginx nginx\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cstrong\u003e容器管理：\u003c/strong\u003e\u003c/p\u003e","tags":null,"title":"Docker 常用指令"},{"categories":["DevOps","Automation"],"contents":"在企業 DevOps 實踐中，我負責建置和維護 GitLab CI/CD 流程，涵蓋從程式碼提交到生產部署的完整自動化。這篇文章將分享 GitLab CI/CD 的基礎配置經驗。\nGitLab CI/CD 基礎架構 1. GitLab Runner 部署 自建 Runner 配置：\n# 安裝 GitLab Runner curl -L \u0026#34;https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.deb.sh\u0026#34; | sudo bash sudo apt-get install gitlab-runner # 註冊 Runner sudo gitlab-runner register \\ --url \u0026#34;https://gitlab.company.com/\u0026#34; \\ --registration-token \u0026#34;YOUR_TOKEN\u0026#34; \\ --executor \u0026#34;docker\u0026#34; \\ --docker-image \u0026#34;alpine:latest\u0026#34; \\ --description \u0026#34;Production Runner\u0026#34; \\ --tag-list \u0026#34;production,docker\u0026#34; Docker-in-Docker 配置：\n# /etc/gitlab-runner/config.toml concurrent = 4 check_interval = 0 [session_server] session_timeout = 1800 [[runners]] name = \u0026#34;docker-runner\u0026#34; url = \u0026#34;https://gitlab.company.com/\u0026#34; token = \u0026#34;YOUR_TOKEN\u0026#34; executor = \u0026#34;docker\u0026#34; [runners.custom_build_dir] [runners.cache] [runners.cache.s3] [runners.cache.gcs] [runners.cache.azure] [runners.docker] tls_verify = false image = \u0026#34;docker:20.10.16\u0026#34; privileged = true disable_entrypoint_overwrite = false oom_kill_disable = false disable_cache = false volumes = [\u0026#34;/var/run/docker.sock:/var/run/docker.sock\u0026#34;, \u0026#34;/cache\u0026#34;] shm_size = 0 .gitlab-ci.yml 基礎範例 簡單的 Node.js 專案配置 # .gitlab-ci.yml image: node:18-alpine # 定義階段 stages: - test - build - deploy # 快取設定 cache: paths: - node_modules/ # 安裝依賴 before_script: - npm ci # 測試階段 test: stage: test script: - npm run test only: - merge_requests - main # 建置階段 build: stage: build image: docker:20.10.16 services: - docker:20.10.16-dind before_script: - docker login -u $CI_REGISTRY_USER -p $CI_REGISTRY_PASSWORD $CI_REGISTRY script: - docker build -t $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA . - docker push $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA only: - main # 部署到測試環境 deploy:staging: stage: deploy script: - echo \u0026#34;Deploying to staging environment\u0026#34; - kubectl set image deployment/myapp myapp=$CI_REGISTRY_IMAGE:$CI_COMMIT_SHA environment: name: staging only: - main Harbor 私有映像倉庫整合 Harbor 設定與使用 我們使用 Harbor 作為私有 Docker 映像倉庫，提供安全且高效的映像管理。\nHarbor 基本配置：\n# 使用 Harbor 作為映像倉庫 variables: HARBOR_REGISTRY: \u0026#34;harbor.company.com\u0026#34; HARBOR_PROJECT: \u0026#34;myproject\u0026#34; IMAGE_NAME: \u0026#34;$HARBOR_REGISTRY/$HARBOR_PROJECT/myapp\u0026#34; build:harbor: stage: build image: docker:20.10.16 services: - docker:20.10.16-dind before_script: # 登入 Harbor - docker login -u $HARBOR_USERNAME -p $HARBOR_PASSWORD $HARBOR_REGISTRY script: # 建置並推送到 Harbor - docker build -t $IMAGE_NAME:$CI_COMMIT_SHA . - docker build -t $IMAGE_NAME:latest . - docker push $IMAGE_NAME:$CI_COMMIT_SHA - docker push $IMAGE_NAME:latest only: - main Harbor 映像掃描：\n# Harbor 內建的映像安全掃描 scan:harbor: stage: test image: alpine:latest before_script: - apk add --no-cache curl jq script: # 觸發 Harbor 掃描 - | curl -X POST -u \u0026#34;$HARBOR_USERNAME:$HARBOR_PASSWORD\u0026#34; \\ \u0026#34;$HARBOR_REGISTRY/api/v2.0/projects/$HARBOR_PROJECT/repositories/myapp/artifacts/$CI_COMMIT_SHA/scan\u0026#34; # 等待掃描完成並取得結果 - sleep 30 - | curl -u \u0026#34;$HARBOR_USERNAME:$HARBOR_PASSWORD\u0026#34; \\ \u0026#34;$HARBOR_REGISTRY/api/v2.0/projects/$HARBOR_PROJECT/repositories/myapp/artifacts/$CI_COMMIT_SHA\u0026#34; | jq \u0026#39;.scan_overview\u0026#39; only: - main 簡化的多環境部署 基礎部署範例 # 簡單的多環境部署 .deploy_template: image: alpine:latest before_script: - apk add --no-cache kubectl script: - kubectl set image deployment/$APP_NAME $APP_NAME=$IMAGE_NAME:$CI_COMMIT_SHA deploy:staging: extends: .deploy_template stage: deploy variables: APP_NAME: \u0026#34;myapp-staging\u0026#34; environment: name: staging only: - develop deploy:production: extends: .deploy_template stage: deploy variables: APP_NAME: \u0026#34;myapp-prod\u0026#34; environment: name: production when: manual only: - main Docker 整合 Dockerfile 最佳實踐 # 多階段建置 FROM node:18-alpine AS builder WORKDIR /app COPY package*.json ./ RUN npm ci --only=production \u0026amp;\u0026amp; npm cache clean --force FROM node:18-alpine AS runtime RUN addgroup -g 1001 -S nodejs RUN adduser -S nextjs -u 1001 WORKDIR /app COPY --from=builder /app/node_modules ./node_modules COPY . . USER nextjs EXPOSE 3000 CMD [\u0026#34;npm\u0026#34;, \u0026#34;start\u0026#34;] Docker Compose 測試環境 # docker-compose.test.yml version: \u0026#39;3.8\u0026#39; services: app: build: . environment: - NODE_ENV=test - DATABASE_URL=postgresql://test:test@db:5432/testdb depends_on: - db - redis db: image: postgres:13 environment: POSTGRES_DB: testdb POSTGRES_USER: test POSTGRES_PASSWORD: test redis: image: redis:6-alpine 基礎優化技巧 快取設定 # 簡單的快取配置 cache: paths: - node_modules/ - dist/ # 分支別快取 cache: key: \u0026#34;$CI_COMMIT_REF_SLUG\u0026#34; paths: - node_modules/ 故障排除 常見問題解決 問題 1：Runner 記憶體不足\n# config.toml [[runners]] [runners.docker] memory = \u0026#34;4g\u0026#34; memory_swap = \u0026#34;4g\u0026#34; 問題 2：網路連線問題\n# 增加重試機制 retry: max: 2 when: - runner_system_failure - stuck_or_timeout_failure 問題 3：權限問題\n# 檢查 Runner 權限 sudo usermod -aG docker gitlab-runner sudo systemctl restart gitlab-runner 結語 GitLab CI/CD 是一個實用的 DevOps 工具，透過簡單的配置就能建立基礎的自動化部署流程。關鍵在於：\n簡單開始：從基礎的測試、建置、部署開始 Harbor 整合：使用私有映像倉庫確保安全性 逐步優化：根據需求逐步加入更多功能 模組化設計：使用 extends 減少重複配置 從簡單的配置開始，逐步建立適合團隊的 CI/CD 流程，可以有效提升開發效率。\n","date":"January 30, 2024","hero":"/images/default-hero.jpg","permalink":"https://clarence.tw/posts/gitlab-cicd-complete-guide/","summary":"\u003cp\u003e在企業 DevOps 實踐中，我負責建置和維護 GitLab CI/CD 流程，涵蓋從程式碼提交到生產部署的完整自動化。這篇文章將分享 GitLab CI/CD 的基礎配置經驗。\u003c/p\u003e\n\u003ch2 id=\"gitlab-cicd-基礎架構\"\u003eGitLab CI/CD 基礎架構\u003c/h2\u003e\n\u003ch3 id=\"1-gitlab-runner-部署\"\u003e1. GitLab Runner 部署\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e自建 Runner 配置：\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 安裝 GitLab Runner\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecurl -L \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.deb.sh\u0026#34;\u003c/span\u003e | sudo bash\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo apt-get install gitlab-runner\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 註冊 Runner\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo gitlab-runner register \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --url \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;https://gitlab.company.com/\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --registration-token \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;YOUR_TOKEN\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --executor \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;docker\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --docker-image \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;alpine:latest\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --description \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Production Runner\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --tag-list \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;production,docker\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cstrong\u003eDocker-in-Docker 配置：\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-toml\" data-lang=\"toml\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# /etc/gitlab-runner/config.toml\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003econcurrent\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e4\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003echeck_interval\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e[\u003cspan style=\"color:#a6e22e\"\u003esession_server\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003esession_timeout\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e1800\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e[[\u003cspan style=\"color:#a6e22e\"\u003erunners\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;docker-runner\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;https://gitlab.company.com/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003etoken\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;YOUR_TOKEN\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eexecutor\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;docker\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  [\u003cspan style=\"color:#a6e22e\"\u003erunners\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ecustom_build_dir\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  [\u003cspan style=\"color:#a6e22e\"\u003erunners\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ecache\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    [\u003cspan style=\"color:#a6e22e\"\u003erunners\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ecache\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003es3\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    [\u003cspan style=\"color:#a6e22e\"\u003erunners\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ecache\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003egcs\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    [\u003cspan style=\"color:#a6e22e\"\u003erunners\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ecache\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eazure\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  [\u003cspan style=\"color:#a6e22e\"\u003erunners\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003edocker\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003etls_verify\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eimage\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;docker:20.10.16\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eprivileged\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003edisable_entrypoint_overwrite\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eoom_kill_disable\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003edisable_cache\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003evolumes\u003c/span\u003e = [\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/var/run/docker.sock:/var/run/docker.sock\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/cache\u0026#34;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eshm_size\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"gitlab-ciyml-基礎範例\"\u003e.gitlab-ci.yml 基礎範例\u003c/h2\u003e\n\u003ch3 id=\"簡單的-nodejs-專案配置\"\u003e簡單的 Node.js 專案配置\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-yaml\" data-lang=\"yaml\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# .gitlab-ci.yml\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003enode:18-alpine\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 定義階段\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003estages\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  - \u003cspan style=\"color:#ae81ff\"\u003etest\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  - \u003cspan style=\"color:#ae81ff\"\u003ebuild\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  - \u003cspan style=\"color:#ae81ff\"\u003edeploy\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 快取設定\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003ecache\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003epaths\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    - \u003cspan style=\"color:#ae81ff\"\u003enode_modules/\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 安裝依賴\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003ebefore_script\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  - \u003cspan style=\"color:#ae81ff\"\u003enpm ci\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 測試階段\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003etest\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003estage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003etest\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003escript\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    - \u003cspan style=\"color:#ae81ff\"\u003enpm run test\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003eonly\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    - \u003cspan style=\"color:#ae81ff\"\u003emerge_requests\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    - \u003cspan style=\"color:#ae81ff\"\u003emain\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 建置階段\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003ebuild\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003estage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003ebuild\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003eimage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003edocker:20.10.16\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003eservices\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    - \u003cspan style=\"color:#ae81ff\"\u003edocker:20.10.16-dind\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003ebefore_script\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    - \u003cspan style=\"color:#ae81ff\"\u003edocker login -u $CI_REGISTRY_USER -p $CI_REGISTRY_PASSWORD $CI_REGISTRY\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003escript\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    - \u003cspan style=\"color:#ae81ff\"\u003edocker build -t $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA .\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    - \u003cspan style=\"color:#ae81ff\"\u003edocker push $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003eonly\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    - \u003cspan style=\"color:#ae81ff\"\u003emain\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 部署到測試環境\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003edeploy:staging\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003estage\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003edeploy\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003escript\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    - \u003cspan style=\"color:#ae81ff\"\u003eecho \u0026#34;Deploying to staging environment\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    - \u003cspan style=\"color:#ae81ff\"\u003ekubectl set image deployment/myapp myapp=$CI_REGISTRY_IMAGE:$CI_COMMIT_SHA\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003eenvironment\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#f92672\"\u003ename\u003c/span\u003e: \u003cspan style=\"color:#ae81ff\"\u003estaging\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003eonly\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    - \u003cspan style=\"color:#ae81ff\"\u003emain\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"harbor-私有映像倉庫整合\"\u003eHarbor 私有映像倉庫整合\u003c/h2\u003e\n\u003ch3 id=\"harbor-設定與使用\"\u003eHarbor 設定與使用\u003c/h3\u003e\n\u003cp\u003e我們使用 Harbor 作為私有 Docker 映像倉庫，提供安全且高效的映像管理。\u003c/p\u003e","tags":["GitLab","CI/CD","DevOps","Docker","Automation"],"title":"GitLab CI/CD 完整配置指南"},{"categories":["Websites"],"contents":"在伺服器管理經驗上有在託管高流量站台，此站台上託管的網站數量有 4000 個以上，平常維運除了定期更新之外還會設定監控系統異常指標減少人力維護的成本。\nCloudFlare 30 天的數據 可以由下圖看到月流量統計\n請求高達 1900 萬 流量高達 2 TB 造訪次數高達 70 萬以上 點閱率高達 100 萬以上 ","date":"January 21, 2023","hero":"/images/default-hero.jpg","permalink":"https://clarence.tw/posts/hosting-high-bandwidth-web-server/","summary":"\u003cp\u003e在伺服器管理經驗上有在託管高流量站台，此站台上託管的網站數量有 4000 個以上，平常維運除了定期更新之外還會設定監控系統異常指標減少人力維護的成本。\u003c/p\u003e\n\u003ch3 id=\"cloudflare-30-天的數據\"\u003eCloudFlare 30 天的數據\u003c/h3\u003e\n\u003cp\u003e可以由下圖看到月流量統計\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e請求高達 1900 萬\u003c/li\u003e\n\u003cli\u003e流量高達 2 TB\u003c/li\u003e\n\u003cli\u003e造訪次數高達 70 萬以上\u003c/li\u003e\n\u003cli\u003e點閱率高達 100 萬以上\u003c/li\u003e\n\u003c/ul\u003e\n\u003cimg src=\"/posts/hosting-high-bandwidth-web-server/images/cf-30day-bandwidth.png\"\n    \n        alt=\"CloudFlare 30 Day Bandwidth\"\n    \n    \n    \n    \n    \n        class=\"center\"\n    \n\u003e\n\n\u003cdiv style=\"margin-top: rem;\"\u003e\u003c/div\u003e","tags":["Websites"],"title":"託管高流量網站經驗"}]