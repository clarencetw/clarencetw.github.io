<!doctype html><html lang=zh-tw><head><title>Notes</title><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.a671c53c7cf3735bfdfe99730357e6f244a0007a0e507b307277a2e095f98127.css integrity="sha256-pnHFPHzzc1v9/plzA1fm8kSgAHoOUHswcnei4JX5gSc="><link rel=icon type=image/png href=/images/site/favicon_hu_6b83fda92133ca8.jpeg><link rel=alternate type=application/rss+xml href=https://clarence.tw/notes/index.xml title=Clarence><meta property="og:title" content="Clarence 個人介紹"><meta property="og:type" content="website"><meta property="og:description" content="本網站為 Clarence 個人簡歷紀錄."><meta property="og:image" content="/clarencetw-og.png"><meta property="og:url" content="https://clarence.tw"><script async src="https://www.googletagmanager.com/gtag/js?id=G-PG4DH6TDZN"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PG4DH6TDZN")}</script><script src=https://cdn.counter.dev/script.js data-id=me@clarence.tw data-utcoffset=1></script><script data-goatcounter=https://clarence.goatcounter.com/count async src=//gc.zgo.at/count.js></script><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-notes kind-section" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/><img src=/images/site/main-logo_hu_6b83fda92133ca8.jpeg id=logo alt=Logo>
Clarence</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/#home>首頁</a></li><li class=nav-item><a class=nav-link href=/#about>關於我</a></li><li class=nav-item><a class=nav-link href=/#skills>技能</a></li><li class=nav-item><a class=nav-link href=/#experiences>經歷</a></li><li class=nav-item><a class=nav-link href=/#education>學歷</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>更多的</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/#projects>專案</a>
<a class=dropdown-item href=/#publications>出版</a>
<a class=dropdown-item href=/#accomplishments>成就</a></div></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/posts>文章</a></li><li class=nav-item><a class=nav-link id=note-link href=/notes>筆記</a></li><li class=nav-item><a class=nav-link href=https://blog.clarence.tw/>部落格</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/main-logo_hu_6b83fda92133ca8.jpeg class=d-none id=main-logo alt=Logo></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=搜尋 data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/notes data-filter=all>筆記</a></li><div class=subtree><li><i data-feather=plus-circle></i><a class=list-link href=/notes/mac/> Mac</a><ul><li><a class=list-link href=/notes/mac/launchpad/ title="Mac Commands">Mac Commands</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/aws/> AWS</a><ul><li><a class=list-link href=/notes/aws/cdk-tips/ title="CDK Tips">CDK Tips</a></li><li><a class=list-link href=/notes/aws/aws-cli/ title="AWS CLI">AWS CLI</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/llm/> LLM & AI</a><ul><li><a class=list-link href=/notes/llm/ollama-setup/ title="Ollama Setup">Ollama Setup</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/system/> System Administration</a><ul><li><a class=list-link href=/notes/system/package-management/ title="Package Management">Package Management</a></li><li><a class=list-link href=/notes/system/system-commands/ title="System Commands">System Commands</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/docker/> Docker</a><ul><li><a class=list-link href=/notes/docker/docker-commands/ title="Docker Commands">Docker Commands</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class="content container-fluid" id=content><div class="container-fluid note-card-holder" id=note-card-holder><div class=note-card><div class=item><h5 class=note-title><span>CDK 常用指令</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 初始化新專案</span>
</span></span><span style=display:flex><span>cdk init app --language typescript
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 部署所有 Stack</span>
</span></span><span style=display:flex><span>cdk deploy --all
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看差異</span>
</span></span><span style=display:flex><span>cdk diff
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 銷毀資源</span>
</span></span><span style=display:flex><span>cdk destroy
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>CDK 最佳實踐</span></h5><div class=card><div class=card-body><ol><li><strong>使用 Environment 變數</strong></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>env</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>account</span>: <span style=color:#66d9ef>process.env.CDK_DEFAULT_ACCOUNT</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>region</span>: <span style=color:#66d9ef>process.env.CDK_DEFAULT_REGION</span>,
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><ol start=2><li><strong>標籤管理</strong></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#a6e22e>Tags</span>.<span style=color:#66d9ef>of</span>(<span style=color:#66d9ef>this</span>).<span style=color:#a6e22e>add</span>(<span style=color:#e6db74>&#39;Project&#39;</span>, <span style=color:#e6db74>&#39;MyProject&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Tags</span>.<span style=color:#66d9ef>of</span>(<span style=color:#66d9ef>this</span>).<span style=color:#a6e22e>add</span>(<span style=color:#e6db74>&#39;Environment&#39;</span>, <span style=color:#e6db74>&#39;Production&#39;</span>);
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>AWS CLI 安裝與設定</span></h5><div class=card><div class=card-body><p><strong>安裝 AWS CLI：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># macOS (使用 Homebrew)</span>
</span></span><span style=display:flex><span>brew install awscli
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Ubuntu/Debian</span>
</span></span><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>sudo apt install awscli
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用 pip 安裝</span>
</span></span><span style=display:flex><span>pip install awscli
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 安裝 AWS CLI v2 (推薦)</span>
</span></span><span style=display:flex><span>curl <span style=color:#e6db74>&#34;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip&#34;</span> -o <span style=color:#e6db74>&#34;awscliv2.zip&#34;</span>
</span></span><span style=display:flex><span>unzip awscliv2.zip
</span></span><span style=display:flex><span>sudo ./aws/install
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 驗證安裝</span>
</span></span><span style=display:flex><span>aws --version
</span></span></code></pre></div><p><strong>設定 AWS CLI：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 基本設定</span>
</span></span><span style=display:flex><span>aws configure
</span></span><span style=display:flex><span><span style=color:#75715e># 會提示輸入：</span>
</span></span><span style=display:flex><span><span style=color:#75715e># AWS Access Key ID</span>
</span></span><span style=display:flex><span><span style=color:#75715e># AWS Secret Access Key  </span>
</span></span><span style=display:flex><span><span style=color:#75715e># Default region name (例如: us-east-1)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Default output format (json/text/table)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定特定 profile</span>
</span></span><span style=display:flex><span>aws configure --profile myprofile
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看設定</span>
</span></span><span style=display:flex><span>aws configure list
</span></span><span style=display:flex><span>aws configure list --profile myprofile
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定單一參數</span>
</span></span><span style=display:flex><span>aws configure set region ap-northeast-1
</span></span><span style=display:flex><span>aws configure set output json --profile myprofile
</span></span></code></pre></div><p><strong>環境變數設定：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 設定環境變數</span>
</span></span><span style=display:flex><span>export AWS_ACCESS_KEY_ID<span style=color:#f92672>=</span>your_access_key
</span></span><span style=display:flex><span>export AWS_SECRET_ACCESS_KEY<span style=color:#f92672>=</span>your_secret_key
</span></span><span style=display:flex><span>export AWS_DEFAULT_REGION<span style=color:#f92672>=</span>us-east-1
</span></span><span style=display:flex><span>export AWS_PROFILE<span style=color:#f92672>=</span>myprofile
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看當前設定</span>
</span></span><span style=display:flex><span>aws sts get-caller-identity
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>S3 基本操作</span></h5><div class=card><div class=card-body><p><strong>Bucket 管理：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 列出所有 buckets</span>
</span></span><span style=display:flex><span>aws s3 ls
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 建立 bucket</span>
</span></span><span style=display:flex><span>aws s3 mb s3://my-bucket-name
</span></span><span style=display:flex><span>aws s3 mb s3://my-bucket-name --region ap-northeast-1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 刪除空的 bucket</span>
</span></span><span style=display:flex><span>aws s3 rb s3://my-bucket-name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 刪除 bucket 及所有內容</span>
</span></span><span style=display:flex><span>aws s3 rb s3://my-bucket-name --force
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看 bucket 內容</span>
</span></span><span style=display:flex><span>aws s3 ls s3://my-bucket-name
</span></span><span style=display:flex><span>aws s3 ls s3://my-bucket-name/folder/ --recursive
</span></span></code></pre></div><p><strong>檔案上傳與下載：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 上傳單一檔案</span>
</span></span><span style=display:flex><span>aws s3 cp file.txt s3://my-bucket-name/
</span></span><span style=display:flex><span>aws s3 cp file.txt s3://my-bucket-name/folder/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 下載單一檔案</span>
</span></span><span style=display:flex><span>aws s3 cp s3://my-bucket-name/file.txt ./
</span></span><span style=display:flex><span>aws s3 cp s3://my-bucket-name/folder/file.txt ./downloads/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 上傳整個目錄</span>
</span></span><span style=display:flex><span>aws s3 cp ./local-folder s3://my-bucket-name/remote-folder --recursive
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 下載整個目錄</span>
</span></span><span style=display:flex><span>aws s3 cp s3://my-bucket-name/remote-folder ./local-folder --recursive
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 同步目錄 (只上傳變更的檔案)</span>
</span></span><span style=display:flex><span>aws s3 sync ./local-folder s3://my-bucket-name/remote-folder
</span></span><span style=display:flex><span>aws s3 sync s3://my-bucket-name/remote-folder ./local-folder
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移動檔案</span>
</span></span><span style=display:flex><span>aws s3 mv file.txt s3://my-bucket-name/
</span></span><span style=display:flex><span>aws s3 mv s3://my-bucket-name/old-file.txt s3://my-bucket-name/new-file.txt
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>S3 進階操作</span></h5><div class=card><div class=card-body><p><strong>檔案管理：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 刪除檔案</span>
</span></span><span style=display:flex><span>aws s3 rm s3://my-bucket-name/file.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 刪除目錄及所有內容</span>
</span></span><span style=display:flex><span>aws s3 rm s3://my-bucket-name/folder --recursive
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定檔案權限 (ACL)</span>
</span></span><span style=display:flex><span>aws s3 cp file.txt s3://my-bucket-name/ --acl public-read
</span></span><span style=display:flex><span>aws s3 cp file.txt s3://my-bucket-name/ --acl private
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定 Content-Type</span>
</span></span><span style=display:flex><span>aws s3 cp index.html s3://my-bucket-name/ --content-type <span style=color:#e6db74>&#34;text/html&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定快取控制</span>
</span></span><span style=display:flex><span>aws s3 cp image.jpg s3://my-bucket-name/ --cache-control <span style=color:#e6db74>&#34;max-age=3600&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定 metadata</span>
</span></span><span style=display:flex><span>aws s3 cp file.txt s3://my-bucket-name/ --metadata <span style=color:#e6db74>&#34;key1=value1,key2=value2&#34;</span>
</span></span></code></pre></div><p><strong>過濾與排除：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 只同步特定檔案類型</span>
</span></span><span style=display:flex><span>aws s3 sync ./folder s3://my-bucket-name/ --include <span style=color:#e6db74>&#34;*.jpg&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 排除特定檔案</span>
</span></span><span style=display:flex><span>aws s3 sync ./folder s3://my-bucket-name/ --exclude <span style=color:#e6db74>&#34;*.tmp&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 複合條件</span>
</span></span><span style=display:flex><span>aws s3 sync ./folder s3://my-bucket-name/ --exclude <span style=color:#e6db74>&#34;*&#34;</span> --include <span style=color:#e6db74>&#34;*.jpg&#34;</span> --include <span style=color:#e6db74>&#34;*.png&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 刪除本地不存在的檔案</span>
</span></span><span style=display:flex><span>aws s3 sync ./folder s3://my-bucket-name/ --delete
</span></span></code></pre></div><p><strong>檔案資訊查詢：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 查看檔案詳細資訊</span>
</span></span><span style=display:flex><span>aws s3api head-object --bucket my-bucket-name --key file.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看檔案大小和數量</span>
</span></span><span style=display:flex><span>aws s3 ls s3://my-bucket-name --recursive --human-readable --summarize
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看特定前綴的檔案</span>
</span></span><span style=display:flex><span>aws s3 ls s3://my-bucket-name/logs/ --recursive
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>S3 靜態網站託管</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 啟用靜態網站託管</span>
</span></span><span style=display:flex><span>aws s3 website s3://my-bucket-name --index-document index.html --error-document error.html
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 上傳網站檔案並設定公開讀取</span>
</span></span><span style=display:flex><span>aws s3 sync ./website s3://my-bucket-name --acl public-read
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定 bucket policy (允許公開讀取)</span>
</span></span><span style=display:flex><span>cat &gt; bucket-policy.json <span style=color:#e6db74>&lt;&lt; EOF
</span></span></span><span style=display:flex><span><span style=color:#e6db74>{
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;Version&#34;: &#34;2012-10-17&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;Statement&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Sid&#34;: &#34;PublicReadGetObject&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Effect&#34;: &#34;Allow&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Principal&#34;: &#34;*&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Action&#34;: &#34;s3:GetObject&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Resource&#34;: &#34;arn:aws:s3:::my-bucket-name/*&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    ]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>aws s3api put-bucket-policy --bucket my-bucket-name --policy file://bucket-policy.json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看網站設定</span>
</span></span><span style=display:flex><span>aws s3api get-bucket-website --bucket my-bucket-name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 停用網站託管</span>
</span></span><span style=display:flex><span>aws s3api delete-bucket-website --bucket my-bucket-name
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>S3 生命週期管理</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 建立生命週期規則</span>
</span></span><span style=display:flex><span>cat &gt; lifecycle.json <span style=color:#e6db74>&lt;&lt; EOF
</span></span></span><span style=display:flex><span><span style=color:#e6db74>{
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;Rules&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;ID&#34;: &#34;DeleteOldFiles&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Status&#34;: &#34;Enabled&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Filter&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;Prefix&#34;: &#34;logs/&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Expiration&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;Days&#34;: 30
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;ID&#34;: &#34;TransitionToIA&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Status&#34;: &#34;Enabled&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Transitions&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;Days&#34;: 30,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;StorageClass&#34;: &#34;STANDARD_IA&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;Days&#34;: 90,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                    &#34;StorageClass&#34;: &#34;GLACIER&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            ]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    ]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 套用生命週期規則</span>
</span></span><span style=display:flex><span>aws s3api put-bucket-lifecycle-configuration --bucket my-bucket-name --lifecycle-configuration file://lifecycle.json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看生命週期規則</span>
</span></span><span style=display:flex><span>aws s3api get-bucket-lifecycle-configuration --bucket my-bucket-name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 刪除生命週期規則</span>
</span></span><span style=display:flex><span>aws s3api delete-bucket-lifecycle --bucket my-bucket-name
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>S3 版本控制</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 啟用版本控制</span>
</span></span><span style=display:flex><span>aws s3api put-bucket-versioning --bucket my-bucket-name --versioning-configuration Status<span style=color:#f92672>=</span>Enabled
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看版本控制狀態</span>
</span></span><span style=display:flex><span>aws s3api get-bucket-versioning --bucket my-bucket-name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 列出檔案的所有版本</span>
</span></span><span style=display:flex><span>aws s3api list-object-versions --bucket my-bucket-name --prefix file.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 下載特定版本的檔案</span>
</span></span><span style=display:flex><span>aws s3api get-object --bucket my-bucket-name --key file.txt --version-id VERSION_ID output.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 刪除特定版本</span>
</span></span><span style=display:flex><span>aws s3api delete-object --bucket my-bucket-name --key file.txt --version-id VERSION_ID
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 暫停版本控制</span>
</span></span><span style=display:flex><span>aws s3api put-bucket-versioning --bucket my-bucket-name --versioning-configuration Status<span style=color:#f92672>=</span>Suspended
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>S3 跨區域複製</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 建立複製規則</span>
</span></span><span style=display:flex><span>cat &gt; replication.json <span style=color:#e6db74>&lt;&lt; EOF
</span></span></span><span style=display:flex><span><span style=color:#e6db74>{
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;Role&#34;: &#34;arn:aws:iam::ACCOUNT_ID:role/replication-role&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;Rules&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;ID&#34;: &#34;ReplicateToBackup&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Status&#34;: &#34;Enabled&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Filter&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;Prefix&#34;: &#34;important/&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;Destination&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;Bucket&#34;: &#34;arn:aws:s3:::backup-bucket-name&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                &#34;StorageClass&#34;: &#34;STANDARD_IA&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    ]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 套用複製規則</span>
</span></span><span style=display:flex><span>aws s3api put-bucket-replication --bucket my-bucket-name --replication-configuration file://replication.json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看複製規則</span>
</span></span><span style=display:flex><span>aws s3api get-bucket-replication --bucket my-bucket-name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 刪除複製規則</span>
</span></span><span style=display:flex><span>aws s3api delete-bucket-replication --bucket my-bucket-name
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>常用 S3 技巧</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 產生預簽名 URL (臨時存取連結)</span>
</span></span><span style=display:flex><span>aws s3 presign s3://my-bucket-name/file.txt --expires-in <span style=color:#ae81ff>3600</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 計算檔案 MD5 雜湊值</span>
</span></span><span style=display:flex><span>aws s3api head-object --bucket my-bucket-name --key file.txt --query <span style=color:#e6db74>&#39;ETag&#39;</span> --output text
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 批次操作 (使用 xargs)</span>
</span></span><span style=display:flex><span>aws s3 ls s3://my-bucket-name --recursive | grep <span style=color:#e6db74>&#34;.log&#34;</span> | awk <span style=color:#e6db74>&#39;{print $4}&#39;</span> | xargs -I <span style=color:#f92672>{}</span> aws s3 rm s3://my-bucket-name/<span style=color:#f92672>{}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 監控傳輸進度</span>
</span></span><span style=display:flex><span>aws s3 cp large-file.zip s3://my-bucket-name/ --cli-read-timeout <span style=color:#ae81ff>0</span> --cli-write-timeout <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定多部分上傳閾值</span>
</span></span><span style=display:flex><span>aws configure set default.s3.multipart_threshold 64MB
</span></span><span style=display:flex><span>aws configure set default.s3.max_concurrent_requests <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用不同的 storage class</span>
</span></span><span style=display:flex><span>aws s3 cp file.txt s3://my-bucket-name/ --storage-class STANDARD_IA
</span></span><span style=display:flex><span>aws s3 cp file.txt s3://my-bucket-name/ --storage-class GLACIER
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 加密上傳</span>
</span></span><span style=display:flex><span>aws s3 cp file.txt s3://my-bucket-name/ --sse AES256
</span></span><span style=display:flex><span>aws s3 cp file.txt s3://my-bucket-name/ --sse aws:kms --sse-kms-key-id alias/my-key
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>Launchpad 管理</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 重置 Launchpad 排列</span>
</span></span><span style=display:flex><span>defaults write com.apple.dock ResetLaunchPad -bool true
</span></span><span style=display:flex><span>killall Dock
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定 Launchpad 每頁顯示的 app 數量</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定每行顯示數量 (預設 7)</span>
</span></span><span style=display:flex><span>defaults write com.apple.dock springboard-columns -int <span style=color:#ae81ff>8</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定每列顯示數量 (預設 5)  </span>
</span></span><span style=display:flex><span>defaults write com.apple.dock springboard-rows -int <span style=color:#ae81ff>6</span>
</span></span><span style=display:flex><span>killall Dock
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 恢復預設設定</span>
</span></span><span style=display:flex><span>defaults delete com.apple.dock springboard-columns
</span></span><span style=display:flex><span>defaults delete com.apple.dock springboard-rows
</span></span><span style=display:flex><span>killall Dock
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>Dock 設定</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 隱藏/顯示 Dock</span>
</span></span><span style=display:flex><span>defaults write com.apple.dock autohide -bool true
</span></span><span style=display:flex><span>defaults write com.apple.dock autohide -bool false
</span></span><span style=display:flex><span>killall Dock
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定 Dock 大小</span>
</span></span><span style=display:flex><span>defaults write com.apple.dock tilesize -int <span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span>killall Dock
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定 Dock 位置 (left, bottom, right)</span>
</span></span><span style=display:flex><span>defaults write com.apple.dock orientation -string <span style=color:#e6db74>&#34;left&#34;</span>
</span></span><span style=display:flex><span>killall Dock
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移除 Dock 中所有 app (只保留 Finder 和垃圾桶)</span>
</span></span><span style=display:flex><span>defaults write com.apple.dock persistent-apps -array
</span></span><span style=display:flex><span>killall Dock
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 顯示隱藏的 app 圖示 (半透明效果)</span>
</span></span><span style=display:flex><span>defaults write com.apple.dock showhidden -bool true
</span></span><span style=display:flex><span>killall Dock
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 加快 Dock 動畫速度</span>
</span></span><span style=display:flex><span>defaults write com.apple.dock autohide-time-modifier -float 0.5
</span></span><span style=display:flex><span>killall Dock
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>Finder 設定</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 顯示隱藏檔案</span>
</span></span><span style=display:flex><span>defaults write com.apple.finder AppleShowAllFiles -bool true
</span></span><span style=display:flex><span>killall Finder
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 隱藏隱藏檔案</span>
</span></span><span style=display:flex><span>defaults write com.apple.finder AppleShowAllFiles -bool false
</span></span><span style=display:flex><span>killall Finder
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 顯示副檔名</span>
</span></span><span style=display:flex><span>defaults write NSGlobalDomain AppleShowAllExtensions -bool true
</span></span><span style=display:flex><span>killall Finder
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 顯示路徑列</span>
</span></span><span style=display:flex><span>defaults write com.apple.finder ShowPathbar -bool true
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 顯示狀態列</span>
</span></span><span style=display:flex><span>defaults write com.apple.finder ShowStatusBar -bool true
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定預設檢視方式 (icnv=圖示, Nlsv=列表, clmv=欄位, Flwv=Cover Flow)</span>
</span></span><span style=display:flex><span>defaults write com.apple.finder FXPreferredViewStyle -string <span style=color:#e6db74>&#34;Nlsv&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定新 Finder 視窗開啟位置為家目錄</span>
</span></span><span style=display:flex><span>defaults write com.apple.finder NewWindowTarget -string <span style=color:#e6db74>&#34;PfHm&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 停用清空垃圾桶警告</span>
</span></span><span style=display:flex><span>defaults write com.apple.finder WarnOnEmptyTrash -bool false
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>截圖設定</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 更改截圖儲存位置</span>
</span></span><span style=display:flex><span>defaults write com.apple.screencapture location ~/Desktop/Screenshots
</span></span><span style=display:flex><span>killall SystemUIServer
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 更改截圖檔案格式 (png, jpg, gif, pdf, tiff)</span>
</span></span><span style=display:flex><span>defaults write com.apple.screencapture type -string <span style=color:#e6db74>&#34;jpg&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移除截圖檔名中的陰影</span>
</span></span><span style=display:flex><span>defaults write com.apple.screencapture disable-shadow -bool true
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 截圖不顯示浮動縮圖</span>
</span></span><span style=display:flex><span>defaults write com.apple.screencapture show-thumbnail -bool false
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 截圖快捷鍵</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Cmd+Shift+3: 全螢幕截圖</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Cmd+Shift+4: 選取區域截圖  </span>
</span></span><span style=display:flex><span><span style=color:#75715e># Cmd+Shift+4+Space: 視窗截圖</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Cmd+Shift+5: 截圖工具列</span>
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>系統資訊查詢</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 查看 macOS 版本</span>
</span></span><span style=display:flex><span>sw_vers
</span></span><span style=display:flex><span>sw_vers -productVersion
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看系統資訊</span>
</span></span><span style=display:flex><span>system_profiler SPSoftwareDataType
</span></span><span style=display:flex><span>system_profiler SPHardwareDataType
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看 CPU 資訊</span>
</span></span><span style=display:flex><span>sysctl -n machdep.cpu.brand_string
</span></span><span style=display:flex><span>sysctl -n hw.ncpu  <span style=color:#75715e># CPU 核心數</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看記憶體資訊</span>
</span></span><span style=display:flex><span>sysctl -n hw.memsize  <span style=color:#75715e># 總記憶體 (bytes)</span>
</span></span><span style=display:flex><span>vm_stat  <span style=color:#75715e># 記憶體使用統計</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看磁碟使用情況</span>
</span></span><span style=display:flex><span>df -h
</span></span><span style=display:flex><span>diskutil list
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看網路介面</span>
</span></span><span style=display:flex><span>ifconfig
</span></span><span style=display:flex><span>networksetup -listallhardwareports
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看已安裝的應用程式</span>
</span></span><span style=display:flex><span>ls /Applications
</span></span><span style=display:flex><span>system_profiler SPApplicationsDataType
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>網路設定</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 查看網路設定</span>
</span></span><span style=display:flex><span>networksetup -listallhardwareports
</span></span><span style=display:flex><span>networksetup -getinfo <span style=color:#e6db74>&#34;Wi-Fi&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定 DNS</span>
</span></span><span style=display:flex><span>sudo networksetup -setdnsservers <span style=color:#e6db74>&#34;Wi-Fi&#34;</span> 8.8.8.8 1.1.1.1
</span></span><span style=display:flex><span>sudo networksetup -setdnsservers <span style=color:#e6db74>&#34;Wi-Fi&#34;</span> Empty  <span style=color:#75715e># 清除 DNS</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 重新整理 DNS 快取</span>
</span></span><span style=display:flex><span>sudo dscacheutil -flushcache
</span></span><span style=display:flex><span>sudo killall -HUP mDNSResponder
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看 Wi-Fi 密碼 (需要管理員密碼)</span>
</span></span><span style=display:flex><span>security find-generic-password -wa <span style=color:#e6db74>&#34;WiFi名稱&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 掃描 Wi-Fi 網路</span>
</span></span><span style=display:flex><span>/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -s
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 連接 Wi-Fi</span>
</span></span><span style=display:flex><span>networksetup -setairportnetwork en0 <span style=color:#e6db74>&#34;WiFi名稱&#34;</span> <span style=color:#e6db74>&#34;密碼&#34;</span>
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>電源管理</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 查看電池資訊</span>
</span></span><span style=display:flex><span>pmset -g batt
</span></span><span style=display:flex><span>system_profiler SPPowerDataType
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看電源設定</span>
</span></span><span style=display:flex><span>pmset -g
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定睡眠時間 (分鐘)</span>
</span></span><span style=display:flex><span>sudo pmset -a displaysleep <span style=color:#ae81ff>10</span>  <span style=color:#75715e># 螢幕睡眠</span>
</span></span><span style=display:flex><span>sudo pmset -a sleep <span style=color:#ae81ff>30</span>         <span style=color:#75715e># 系統睡眠</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 防止系統睡眠</span>
</span></span><span style=display:flex><span>caffeinate -d  <span style=color:#75715e># 防止螢幕睡眠</span>
</span></span><span style=display:flex><span>caffeinate -i  <span style=color:#75715e># 防止系統睡眠</span>
</span></span><span style=display:flex><span>caffeinate -s  <span style=color:#75715e># 防止系統睡眠 (AC 電源時)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 立即睡眠</span>
</span></span><span style=display:flex><span>pmset sleepnow
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看睡眠/喚醒歷史</span>
</span></span><span style=display:flex><span>pmset -g log | grep -E <span style=color:#e6db74>&#34;(Sleep|Wake)&#34;</span>
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>應用程式管理</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 強制結束應用程式</span>
</span></span><span style=display:flex><span>killall <span style=color:#e6db74>&#34;應用程式名稱&#34;</span>
</span></span><span style=display:flex><span>pkill -f <span style=color:#e6db74>&#34;應用程式名稱&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看運行中的程序</span>
</span></span><span style=display:flex><span>ps aux | grep <span style=color:#e6db74>&#34;應用程式名稱&#34;</span>
</span></span><span style=display:flex><span>top -o cpu  <span style=color:#75715e># 按 CPU 使用率排序</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 開啟應用程式</span>
</span></span><span style=display:flex><span>open -a <span style=color:#e6db74>&#34;應用程式名稱&#34;</span>
</span></span><span style=display:flex><span>open /Applications/Safari.app
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 開啟檔案 (使用預設應用程式)</span>
</span></span><span style=display:flex><span>open file.txt
</span></span><span style=display:flex><span>open .  <span style=color:#75715e># 在 Finder 中開啟當前目錄</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看應用程式資訊</span>
</span></span><span style=display:flex><span>mdls /Applications/Safari.app
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>檔案系統操作</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 顯示檔案/目錄的詳細資訊</span>
</span></span><span style=display:flex><span>ls -la@  <span style=color:#75715e># 包含擴展屬性</span>
</span></span><span style=display:flex><span>stat filename
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看檔案類型</span>
</span></span><span style=display:flex><span>file filename
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 建立符號連結</span>
</span></span><span style=display:flex><span>ln -s /path/to/original /path/to/link
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看目錄大小</span>
</span></span><span style=display:flex><span>du -sh /path/to/directory
</span></span><span style=display:flex><span>du -h -d <span style=color:#ae81ff>1</span>  <span style=color:#75715e># 只顯示一層深度</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 尋找檔案</span>
</span></span><span style=display:flex><span>find /path -name <span style=color:#e6db74>&#34;*.txt&#34;</span>
</span></span><span style=display:flex><span>mdfind <span style=color:#e6db74>&#34;檔案名稱&#34;</span>  <span style=color:#75715e># 使用 Spotlight 搜尋</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 壓縮/解壓縮</span>
</span></span><span style=display:flex><span>zip -r archive.zip folder/
</span></span><span style=display:flex><span>unzip archive.zip
</span></span><span style=display:flex><span>tar -czf archive.tar.gz folder/
</span></span><span style=display:flex><span>tar -xzf archive.tar.gz
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 計算檔案雜湊值</span>
</span></span><span style=display:flex><span>md5 filename
</span></span><span style=display:flex><span>shasum -a <span style=color:#ae81ff>256</span> filename
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>系統維護</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 清理系統快取</span>
</span></span><span style=display:flex><span>sudo rm -rf ~/Library/Caches/*
</span></span><span style=display:flex><span>sudo rm -rf /Library/Caches/*
</span></span><span style=display:flex><span>sudo rm -rf /System/Library/Caches/*
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 重建 Spotlight 索引</span>
</span></span><span style=display:flex><span>sudo mdutil -E /
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 修復磁碟權限 (macOS 10.11 之前)</span>
</span></span><span style=display:flex><span>sudo diskutil repairPermissions /
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 驗證/修復磁碟</span>
</span></span><span style=display:flex><span>diskutil verifyVolume /
</span></span><span style=display:flex><span>sudo diskutil repairVolume /
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看系統日誌</span>
</span></span><span style=display:flex><span>log show --predicate <span style=color:#e6db74>&#39;process == &#34;kernel&#34;&#39;</span> --last 1h
</span></span><span style=display:flex><span>console  <span style=color:#75715e># 開啟 Console 應用程式</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 重置 NVRAM/PRAM</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 開機時按住 Option+Command+P+R</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 重置 SMC (系統管理控制器)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># MacBook: 關機後按住 Shift+Control+Option+電源鍵 10 秒</span>
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>Ollama 安裝</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Linux/macOS 安裝</span>
</span></span><span style=display:flex><span>curl -fsSL https://ollama.ai/install.sh | sh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 啟動服務</span>
</span></span><span style=display:flex><span>ollama serve
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 下載模型</span>
</span></span><span style=display:flex><span>ollama pull gemma2:9b
</span></span><span style=display:flex><span>ollama pull gemma2:27b
</span></span><span style=display:flex><span>ollama pull llama2
</span></span><span style=display:flex><span>ollama pull mistral
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>常用模型指令</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 列出已安裝模型</span>
</span></span><span style=display:flex><span>ollama list
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 執行對話 (使用 Gemma2)</span>
</span></span><span style=display:flex><span>ollama run gemma2:9b
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 刪除模型</span>
</span></span><span style=display:flex><span>ollama rm gemma2:9b
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看模型資訊</span>
</span></span><span style=display:flex><span>ollama show gemma2:9b
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>API 使用範例</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> requests
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>chat_with_ollama</span>(prompt, model<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;gemma2:9b&#34;</span>):
</span></span><span style=display:flex><span>    url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;http://localhost:11434/api/generate&#34;</span>
</span></span><span style=display:flex><span>    data <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;model&#34;</span>: model,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;prompt&#34;</span>: prompt,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;stream&#34;</span>: <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    response <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>post(url, json<span style=color:#f92672>=</span>data)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> response<span style=color:#f92672>.</span>json()[<span style=color:#e6db74>&#34;response&#34;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用範例 - 文本摘要</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>summarize_text</span>(text):
</span></span><span style=display:flex><span>    prompt <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&#34;&#34;請將以下文字進行摘要，保留重點資訊：
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74></span><span style=color:#e6db74>{</span>text<span style=color:#e6db74>}</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>摘要：&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> chat_with_ollama(prompt, <span style=color:#e6db74>&#34;gemma2:9b&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># RTX 4090 最佳化設定</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>chat_with_gemma2_optimized</span>(prompt):
</span></span><span style=display:flex><span>    url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;http://localhost:11434/api/generate&#34;</span>
</span></span><span style=display:flex><span>    data <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;model&#34;</span>: <span style=color:#e6db74>&#34;gemma2:9b&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;prompt&#34;</span>: prompt,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;stream&#34;</span>: <span style=color:#66d9ef>False</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;options&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;temperature&#34;</span>: <span style=color:#ae81ff>0.7</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;top_p&#34;</span>: <span style=color:#ae81ff>0.9</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;num_ctx&#34;</span>: <span style=color:#ae81ff>4096</span>  <span style=color:#75715e># RTX 4090 24GB 可支援更大 context</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    response <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>post(url, json<span style=color:#f92672>=</span>data)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> response<span style=color:#f92672>.</span>json()[<span style=color:#e6db74>&#34;response&#34;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用範例</span>
</span></span><span style=display:flex><span>result <span style=color:#f92672>=</span> summarize_text(<span style=color:#e6db74>&#34;這是一段很長的文字需要摘要...&#34;</span>)
</span></span><span style=display:flex><span>print(result)
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>Homebrew (macOS)</span></h5><div class=card><div class=card-body><p><strong>安裝 Homebrew：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 安裝 Homebrew</span>
</span></span><span style=display:flex><span>/bin/bash -c <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定環境變數 (Apple Silicon Mac)</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;eval &#34;$(/opt/homebrew/bin/brew shellenv)&#34;&#39;</span> &gt;&gt; ~/.zshrc
</span></span><span style=display:flex><span>source ~/.zshrc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定環境變數 (Intel Mac)</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;eval &#34;$(/usr/local/bin/brew shellenv)&#34;&#39;</span> &gt;&gt; ~/.zshrc
</span></span><span style=display:flex><span>source ~/.zshrc
</span></span></code></pre></div><p><strong>常用指令：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 安裝套件</span>
</span></span><span style=display:flex><span>brew install git
</span></span><span style=display:flex><span>brew install node
</span></span><span style=display:flex><span>brew install docker
</span></span><span style=display:flex><span>brew install hugo
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 安裝 GUI 應用程式</span>
</span></span><span style=display:flex><span>brew install --cask visual-studio-code
</span></span><span style=display:flex><span>brew install --cask docker
</span></span><span style=display:flex><span>brew install --cask google-chrome
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 更新套件</span>
</span></span><span style=display:flex><span>brew update          <span style=color:#75715e># 更新 Homebrew 本身</span>
</span></span><span style=display:flex><span>brew upgrade         <span style=color:#75715e># 更新所有套件</span>
</span></span><span style=display:flex><span>brew upgrade git     <span style=color:#75715e># 更新特定套件</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 搜尋套件</span>
</span></span><span style=display:flex><span>brew search nginx
</span></span><span style=display:flex><span>brew search --cask chrome
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看已安裝套件</span>
</span></span><span style=display:flex><span>brew list
</span></span><span style=display:flex><span>brew list --cask
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移除套件</span>
</span></span><span style=display:flex><span>brew uninstall git
</span></span><span style=display:flex><span>brew uninstall --cask docker
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 清理舊版本</span>
</span></span><span style=display:flex><span>brew cleanup
</span></span><span style=display:flex><span>brew cleanup git
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看套件資訊</span>
</span></span><span style=display:flex><span>brew info git
</span></span><span style=display:flex><span>brew deps git        <span style=color:#75715e># 查看相依性</span>
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>APT (Ubuntu/Debian)</span></h5><div class=card><div class=card-body><p><strong>更新套件清單：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 更新套件清單</span>
</span></span><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 升級所有套件</span>
</span></span><span style=display:flex><span>sudo apt upgrade
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 升級系統 (包含核心)</span>
</span></span><span style=display:flex><span>sudo apt full-upgrade
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 更新並升級 (一次完成)</span>
</span></span><span style=display:flex><span>sudo apt update <span style=color:#f92672>&amp;&amp;</span> sudo apt upgrade -y
</span></span></code></pre></div><p><strong>安裝套件：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 安裝單一套件</span>
</span></span><span style=display:flex><span>sudo apt install git
</span></span><span style=display:flex><span>sudo apt install nginx
</span></span><span style=display:flex><span>sudo apt install docker.io
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 安裝多個套件</span>
</span></span><span style=display:flex><span>sudo apt install git curl wget vim
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 安裝特定版本</span>
</span></span><span style=display:flex><span>sudo apt install nginx<span style=color:#f92672>=</span>1.18.0-0ubuntu1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 從 .deb 檔案安裝</span>
</span></span><span style=display:flex><span>sudo dpkg -i package.deb
</span></span><span style=display:flex><span>sudo apt install -f  <span style=color:#75715e># 修復相依性問題</span>
</span></span></code></pre></div><p><strong>移除套件：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 移除套件 (保留設定檔)</span>
</span></span><span style=display:flex><span>sudo apt remove nginx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 完全移除套件 (包含設定檔)</span>
</span></span><span style=display:flex><span>sudo apt purge nginx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移除不需要的相依套件</span>
</span></span><span style=display:flex><span>sudo apt autoremove
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移除並清理</span>
</span></span><span style=display:flex><span>sudo apt remove nginx <span style=color:#f92672>&amp;&amp;</span> sudo apt autoremove
</span></span></code></pre></div><p><strong>搜尋與查詢：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 搜尋套件</span>
</span></span><span style=display:flex><span>apt search nginx
</span></span><span style=display:flex><span>apt search <span style=color:#e6db74>&#34;web server&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看套件資訊</span>
</span></span><span style=display:flex><span>apt show nginx
</span></span><span style=display:flex><span>apt info docker.io
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看已安裝套件</span>
</span></span><span style=display:flex><span>apt list --installed
</span></span><span style=display:flex><span>apt list --installed | grep nginx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看可升級套件</span>
</span></span><span style=display:flex><span>apt list --upgradable
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看套件相依性</span>
</span></span><span style=display:flex><span>apt depends nginx
</span></span><span style=display:flex><span>apt rdepends nginx  <span style=color:#75715e># 反向相依性</span>
</span></span></code></pre></div><p><strong>清理系統：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 清理下載的套件檔案</span>
</span></span><span style=display:flex><span>sudo apt clean
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 清理部分快取</span>
</span></span><span style=display:flex><span>sudo apt autoclean
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 修復損壞的套件</span>
</span></span><span style=display:flex><span>sudo apt install -f
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 重新設定套件</span>
</span></span><span style=display:flex><span>sudo dpkg-reconfigure package-name
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>YUM/DNF (CentOS/RHEL/Fedora)</span></h5><div class=card><div class=card-body><p><strong>DNF (Fedora)：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 更新套件清單</span>
</span></span><span style=display:flex><span>sudo dnf check-update
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 升級所有套件</span>
</span></span><span style=display:flex><span>sudo dnf upgrade
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 安裝套件</span>
</span></span><span style=display:flex><span>sudo dnf install git
</span></span><span style=display:flex><span>sudo dnf install nginx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移除套件</span>
</span></span><span style=display:flex><span>sudo dnf remove nginx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 搜尋套件</span>
</span></span><span style=display:flex><span>dnf search nginx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看套件資訊</span>
</span></span><span style=display:flex><span>dnf info nginx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看已安裝套件</span>
</span></span><span style=display:flex><span>dnf list installed
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 清理快取</span>
</span></span><span style=display:flex><span>sudo dnf clean all
</span></span></code></pre></div><p><strong>YUM (CentOS 7)：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 更新套件</span>
</span></span><span style=display:flex><span>sudo yum update
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 安裝套件</span>
</span></span><span style=display:flex><span>sudo yum install git
</span></span><span style=display:flex><span>sudo yum install epel-release  <span style=color:#75715e># EPEL 倉庫</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移除套件</span>
</span></span><span style=display:flex><span>sudo yum remove nginx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 搜尋套件</span>
</span></span><span style=display:flex><span>yum search nginx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看套件資訊</span>
</span></span><span style=display:flex><span>yum info nginx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看已安裝套件</span>
</span></span><span style=display:flex><span>yum list installed
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 清理快取</span>
</span></span><span style=display:flex><span>sudo yum clean all
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>Snap (Universal Packages)</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 安裝 snapd (如果尚未安裝)</span>
</span></span><span style=display:flex><span>sudo apt install snapd
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 安裝 snap 套件</span>
</span></span><span style=display:flex><span>sudo snap install code --classic
</span></span><span style=display:flex><span>sudo snap install docker
</span></span><span style=display:flex><span>sudo snap install hugo
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看已安裝的 snap</span>
</span></span><span style=display:flex><span>snap list
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 更新 snap 套件</span>
</span></span><span style=display:flex><span>sudo snap refresh
</span></span><span style=display:flex><span>sudo snap refresh code
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移除 snap 套件</span>
</span></span><span style=display:flex><span>sudo snap remove code
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 搜尋 snap 套件</span>
</span></span><span style=display:flex><span>snap find <span style=color:#e6db74>&#34;text editor&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看 snap 資訊</span>
</span></span><span style=display:flex><span>snap info code
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看 snap 版本</span>
</span></span><span style=display:flex><span>snap version
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>常用開發工具快速安裝</span></h5><div class=card><div class=card-body><p><strong>Node.js 與 npm：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Ubuntu/Debian</span>
</span></span><span style=display:flex><span>curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
</span></span><span style=display:flex><span>sudo apt-get install -y nodejs
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># macOS</span>
</span></span><span style=display:flex><span>brew install node
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 驗證安裝</span>
</span></span><span style=display:flex><span>node --version
</span></span><span style=display:flex><span>npm --version
</span></span></code></pre></div><p><strong>Docker：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Ubuntu</span>
</span></span><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>sudo apt install apt-transport-https ca-certificates curl software-properties-common
</span></span><span style=display:flex><span>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
</span></span><span style=display:flex><span>sudo add-apt-repository <span style=color:#e6db74>&#34;deb [arch=amd64] https://download.docker.com/linux/ubuntu </span><span style=color:#66d9ef>$(</span>lsb_release -cs<span style=color:#66d9ef>)</span><span style=color:#e6db74> stable&#34;</span>
</span></span><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>sudo apt install docker-ce
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># macOS</span>
</span></span><span style=display:flex><span>brew install --cask docker
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 啟動 Docker 服務</span>
</span></span><span style=display:flex><span>sudo systemctl start docker
</span></span><span style=display:flex><span>sudo systemctl enable docker
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 將使用者加入 docker 群組</span>
</span></span><span style=display:flex><span>sudo usermod -aG docker $USER
</span></span></code></pre></div><p><strong>Git：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Ubuntu/Debian</span>
</span></span><span style=display:flex><span>sudo apt install git
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># macOS</span>
</span></span><span style=display:flex><span>brew install git
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 設定 Git</span>
</span></span><span style=display:flex><span>git config --global user.name <span style=color:#e6db74>&#34;Your Name&#34;</span>
</span></span><span style=display:flex><span>git config --global user.email <span style=color:#e6db74>&#34;your.email@example.com&#34;</span>
</span></span></code></pre></div><p><strong>Hugo：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Ubuntu (從 GitHub 下載)</span>
</span></span><span style=display:flex><span>wget https://github.com/gohugoio/hugo/releases/download/v0.148.1/hugo_extended_0.148.1_linux-amd64.deb
</span></span><span style=display:flex><span>sudo dpkg -i hugo_extended_0.148.1_linux-amd64.deb
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># macOS</span>
</span></span><span style=display:flex><span>brew install hugo
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 驗證安裝</span>
</span></span><span style=display:flex><span>hugo version
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>系統資訊查詢</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 查看系統資訊</span>
</span></span><span style=display:flex><span>uname -a                <span style=color:#75715e># 完整系統資訊</span>
</span></span><span style=display:flex><span>uname -r                <span style=color:#75715e># 核心版本</span>
</span></span><span style=display:flex><span>lsb_release -a          <span style=color:#75715e># 發行版資訊 (Ubuntu/Debian)</span>
</span></span><span style=display:flex><span>cat /etc/os-release     <span style=color:#75715e># 系統版本資訊</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看硬體資訊</span>
</span></span><span style=display:flex><span>lscpu                   <span style=color:#75715e># CPU 資訊</span>
</span></span><span style=display:flex><span>free -h                 <span style=color:#75715e># 記憶體使用情況</span>
</span></span><span style=display:flex><span>df -h                   <span style=color:#75715e># 磁碟使用情況</span>
</span></span><span style=display:flex><span>lsblk                   <span style=color:#75715e># 區塊設備資訊</span>
</span></span><span style=display:flex><span>lsusb                   <span style=color:#75715e># USB 設備</span>
</span></span><span style=display:flex><span>lspci                   <span style=color:#75715e># PCI 設備</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看網路資訊</span>
</span></span><span style=display:flex><span>ip addr show            <span style=color:#75715e># 網路介面資訊</span>
</span></span><span style=display:flex><span>ip route show           <span style=color:#75715e># 路由表</span>
</span></span><span style=display:flex><span>netstat -tuln           <span style=color:#75715e># 網路連線狀態</span>
</span></span><span style=display:flex><span>ss -tuln                <span style=color:#75715e># 現代版 netstat</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看程序資訊</span>
</span></span><span style=display:flex><span>ps aux                  <span style=color:#75715e># 所有程序</span>
</span></span><span style=display:flex><span>top                     <span style=color:#75715e># 即時程序監控</span>
</span></span><span style=display:flex><span>htop                    <span style=color:#75715e># 更好的 top (需安裝)</span>
</span></span><span style=display:flex><span>pgrep nginx             <span style=color:#75715e># 尋找特定程序</span>
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>檔案與目錄操作</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 檔案操作</span>
</span></span><span style=display:flex><span>ls -la                  <span style=color:#75715e># 詳細列出檔案</span>
</span></span><span style=display:flex><span>find /path -name <span style=color:#e6db74>&#34;*.log&#34;</span> <span style=color:#75715e># 尋找檔案</span>
</span></span><span style=display:flex><span>locate filename         <span style=color:#75715e># 快速尋找檔案 (需 updatedb)</span>
</span></span><span style=display:flex><span>which command           <span style=color:#75715e># 尋找指令位置</span>
</span></span><span style=display:flex><span>whereis command         <span style=color:#75715e># 尋找指令、手冊等</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 檔案權限</span>
</span></span><span style=display:flex><span>chmod <span style=color:#ae81ff>755</span> file          <span style=color:#75715e># 設定檔案權限</span>
</span></span><span style=display:flex><span>chmod +x script.sh      <span style=color:#75715e># 加入執行權限</span>
</span></span><span style=display:flex><span>chown user:group file   <span style=color:#75715e># 變更擁有者</span>
</span></span><span style=display:flex><span>chgrp group file        <span style=color:#75715e># 變更群組</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 檔案內容</span>
</span></span><span style=display:flex><span>cat file.txt            <span style=color:#75715e># 顯示檔案內容</span>
</span></span><span style=display:flex><span>less file.txt           <span style=color:#75715e># 分頁顯示</span>
</span></span><span style=display:flex><span>head -n <span style=color:#ae81ff>10</span> file.txt     <span style=color:#75715e># 顯示前 10 行</span>
</span></span><span style=display:flex><span>tail -f /var/log/syslog <span style=color:#75715e># 即時顯示檔案末尾</span>
</span></span><span style=display:flex><span>grep <span style=color:#e6db74>&#34;error&#34;</span> file.txt   <span style=color:#75715e># 搜尋文字</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 壓縮與解壓縮</span>
</span></span><span style=display:flex><span>tar -czf archive.tar.gz folder/     <span style=color:#75715e># 壓縮</span>
</span></span><span style=display:flex><span>tar -xzf archive.tar.gz             <span style=color:#75715e># 解壓縮</span>
</span></span><span style=display:flex><span>zip -r archive.zip folder/          <span style=color:#75715e># ZIP 壓縮</span>
</span></span><span style=display:flex><span>unzip archive.zip                   <span style=color:#75715e># ZIP 解壓縮</span>
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>服務管理 (systemd)</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 服務狀態</span>
</span></span><span style=display:flex><span>sudo systemctl status nginx        <span style=color:#75715e># 查看服務狀態</span>
</span></span><span style=display:flex><span>sudo systemctl is-active nginx     <span style=color:#75715e># 檢查是否運行</span>
</span></span><span style=display:flex><span>sudo systemctl is-enabled nginx    <span style=color:#75715e># 檢查是否開機啟動</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 服務控制</span>
</span></span><span style=display:flex><span>sudo systemctl start nginx         <span style=color:#75715e># 啟動服務</span>
</span></span><span style=display:flex><span>sudo systemctl stop nginx          <span style=color:#75715e># 停止服務</span>
</span></span><span style=display:flex><span>sudo systemctl restart nginx       <span style=color:#75715e># 重啟服務</span>
</span></span><span style=display:flex><span>sudo systemctl reload nginx        <span style=color:#75715e># 重新載入設定</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 開機啟動</span>
</span></span><span style=display:flex><span>sudo systemctl enable nginx        <span style=color:#75715e># 設定開機啟動</span>
</span></span><span style=display:flex><span>sudo systemctl disable nginx       <span style=color:#75715e># 取消開機啟動</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看日誌</span>
</span></span><span style=display:flex><span>sudo journalctl -u nginx           <span style=color:#75715e># 查看服務日誌</span>
</span></span><span style=display:flex><span>sudo journalctl -u nginx -f        <span style=color:#75715e># 即時查看日誌</span>
</span></span><span style=display:flex><span>sudo journalctl -u nginx --since <span style=color:#e6db74>&#34;1 hour ago&#34;</span>  <span style=color:#75715e># 查看最近一小時日誌</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 列出服務</span>
</span></span><span style=display:flex><span>systemctl list-units --type<span style=color:#f92672>=</span>service            <span style=color:#75715e># 所有服務</span>
</span></span><span style=display:flex><span>systemctl list-units --type<span style=color:#f92672>=</span>service --state<span style=color:#f92672>=</span>running  <span style=color:#75715e># 運行中服務</span>
</span></span><span style=display:flex><span>systemctl list-unit-files --type<span style=color:#f92672>=</span>service       <span style=color:#75715e># 所有服務檔案</span>
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>網路診斷工具</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 連線測試</span>
</span></span><span style=display:flex><span>ping google.com         <span style=color:#75715e># 測試連線</span>
</span></span><span style=display:flex><span>ping -c <span style=color:#ae81ff>4</span> 8.8.8.8      <span style=color:#75715e># 發送 4 個封包</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 路由追蹤</span>
</span></span><span style=display:flex><span>traceroute google.com   <span style=color:#75715e># 追蹤路由</span>
</span></span><span style=display:flex><span>mtr google.com          <span style=color:#75715e># 持續追蹤 (需安裝)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 埠掃描</span>
</span></span><span style=display:flex><span>nmap localhost          <span style=color:#75715e># 掃描本機埠</span>
</span></span><span style=display:flex><span>nmap -p 80,443 example.com  <span style=color:#75715e># 掃描特定埠</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 網路連線</span>
</span></span><span style=display:flex><span>netstat -tuln           <span style=color:#75715e># 查看監聽埠</span>
</span></span><span style=display:flex><span>ss -tuln                <span style=color:#75715e># 現代版 netstat</span>
</span></span><span style=display:flex><span>lsof -i :80             <span style=color:#75715e># 查看使用特定埠的程序</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 下載工具</span>
</span></span><span style=display:flex><span>wget https://example.com/file.zip       <span style=color:#75715e># 下載檔案</span>
</span></span><span style=display:flex><span>curl -O https://example.com/file.zip    <span style=color:#75715e># 使用 curl 下載</span>
</span></span><span style=display:flex><span>curl -I https://example.com             <span style=color:#75715e># 只取得 HTTP 標頭</span>
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>效能監控</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># CPU 監控</span>
</span></span><span style=display:flex><span>top                     <span style=color:#75715e># 基本監控</span>
</span></span><span style=display:flex><span>htop                    <span style=color:#75715e># 進階監控 (需安裝)</span>
</span></span><span style=display:flex><span>iotop                   <span style=color:#75715e># I/O 監控 (需安裝)</span>
</span></span><span style=display:flex><span>vmstat <span style=color:#ae81ff>1</span>                <span style=color:#75715e># 虛擬記憶體統計</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 記憶體監控</span>
</span></span><span style=display:flex><span>free -h                 <span style=color:#75715e># 記憶體使用情況</span>
</span></span><span style=display:flex><span>cat /proc/meminfo       <span style=color:#75715e># 詳細記憶體資訊</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 磁碟監控</span>
</span></span><span style=display:flex><span>df -h                   <span style=color:#75715e># 磁碟使用情況</span>
</span></span><span style=display:flex><span>du -sh /path/*          <span style=color:#75715e># 目錄大小</span>
</span></span><span style=display:flex><span>iostat <span style=color:#ae81ff>1</span>                <span style=color:#75715e># I/O 統計 (需安裝 sysstat)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 網路監控</span>
</span></span><span style=display:flex><span>iftop                   <span style=color:#75715e># 網路流量監控 (需安裝)</span>
</span></span><span style=display:flex><span>nethogs                 <span style=color:#75715e># 按程序顯示網路使用 (需安裝)</span>
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>定時任務 (Cron)</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 編輯 crontab</span>
</span></span><span style=display:flex><span>crontab -e              <span style=color:#75715e># 編輯當前使用者的 crontab</span>
</span></span><span style=display:flex><span>sudo crontab -e         <span style=color:#75715e># 編輯 root 的 crontab</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看 crontab</span>
</span></span><span style=display:flex><span>crontab -l              <span style=color:#75715e># 列出當前使用者的 crontab</span>
</span></span><span style=display:flex><span>sudo crontab -l         <span style=color:#75715e># 列出 root 的 crontab</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Cron 時間格式</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 分 時 日 月 週 指令</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 0  2  *  *  *  /path/to/script.sh</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 常用範例</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>0</span> <span style=color:#ae81ff>2</span> * * *               <span style=color:#75715e># 每天凌晨 2 點</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>0</span> */6 * * *             <span style=color:#75715e># 每 6 小時</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>1</span> * *               <span style=color:#75715e># 每月 1 號</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span> * * <span style=color:#ae81ff>0</span>               <span style=color:#75715e># 每週日</span>
</span></span><span style=display:flex><span>*/5 * * * *             <span style=color:#75715e># 每 5 分鐘</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看 cron 日誌</span>
</span></span><span style=display:flex><span>sudo tail -f /var/log/cron      <span style=color:#75715e># CentOS/RHEL</span>
</span></span><span style=display:flex><span>sudo tail -f /var/log/syslog    <span style=color:#75715e># Ubuntu/Debian</span>
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>Docker 基本指令</span></h5><div class=card><div class=card-body><p><strong>映像檔管理：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 搜尋映像檔</span>
</span></span><span style=display:flex><span>docker search nginx
</span></span><span style=display:flex><span>docker search ubuntu
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 下載映像檔</span>
</span></span><span style=display:flex><span>docker pull nginx
</span></span><span style=display:flex><span>docker pull nginx:1.21
</span></span><span style=display:flex><span>docker pull ubuntu:20.04
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 列出映像檔</span>
</span></span><span style=display:flex><span>docker images
</span></span><span style=display:flex><span>docker image ls
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移除映像檔</span>
</span></span><span style=display:flex><span>docker rmi nginx
</span></span><span style=display:flex><span>docker rmi nginx:1.21
</span></span><span style=display:flex><span>docker image rm ubuntu:20.04
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 清理未使用的映像檔</span>
</span></span><span style=display:flex><span>docker image prune
</span></span><span style=display:flex><span>docker image prune -a  <span style=color:#75715e># 移除所有未使用的映像檔</span>
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>容器操作</span></h5><div class=card><div class=card-body><p><strong>啟動容器：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 基本啟動</span>
</span></span><span style=display:flex><span>docker run nginx
</span></span><span style=display:flex><span>docker run -d nginx                    <span style=color:#75715e># 背景執行</span>
</span></span><span style=display:flex><span>docker run -it ubuntu bash             <span style=color:#75715e># 互動模式</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 埠對應</span>
</span></span><span style=display:flex><span>docker run -d -p 8080:80 nginx         <span style=color:#75715e># 對應埠 8080 到容器的 80</span>
</span></span><span style=display:flex><span>docker run -d -p 127.0.0.1:8080:80 nginx  <span style=color:#75715e># 只綁定本機</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 掛載目錄</span>
</span></span><span style=display:flex><span>docker run -d -v /host/path:/container/path nginx
</span></span><span style=display:flex><span>docker run -d -v <span style=color:#66d9ef>$(</span>pwd<span style=color:#66d9ef>)</span>:/app node      <span style=color:#75715e># 掛載當前目錄</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 環境變數</span>
</span></span><span style=display:flex><span>docker run -d -e ENV_VAR<span style=color:#f92672>=</span>value nginx
</span></span><span style=display:flex><span>docker run -d --env-file .env nginx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 容器命名</span>
</span></span><span style=display:flex><span>docker run -d --name my-nginx nginx
</span></span></code></pre></div><p><strong>容器管理：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 列出容器</span>
</span></span><span style=display:flex><span>docker ps                              <span style=color:#75715e># 運行中的容器</span>
</span></span><span style=display:flex><span>docker ps -a                           <span style=color:#75715e># 所有容器</span>
</span></span><span style=display:flex><span>docker container ls
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 停止容器</span>
</span></span><span style=display:flex><span>docker stop container_id
</span></span><span style=display:flex><span>docker stop my-nginx
</span></span><span style=display:flex><span>docker kill container_id               <span style=color:#75715e># 強制停止</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 啟動已停止的容器</span>
</span></span><span style=display:flex><span>docker start container_id
</span></span><span style=display:flex><span>docker restart container_id
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移除容器</span>
</span></span><span style=display:flex><span>docker rm container_id
</span></span><span style=display:flex><span>docker rm my-nginx
</span></span><span style=display:flex><span>docker rm -f container_id              <span style=color:#75715e># 強制移除運行中的容器</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 清理停止的容器</span>
</span></span><span style=display:flex><span>docker container prune
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>容器互動與除錯</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 進入運行中的容器</span>
</span></span><span style=display:flex><span>docker exec -it container_id bash
</span></span><span style=display:flex><span>docker exec -it my-nginx sh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看容器日誌</span>
</span></span><span style=display:flex><span>docker logs container_id
</span></span><span style=display:flex><span>docker logs -f container_id             <span style=color:#75715e># 即時查看日誌</span>
</span></span><span style=display:flex><span>docker logs --tail <span style=color:#ae81ff>100</span> container_id     <span style=color:#75715e># 查看最後 100 行</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看容器資訊</span>
</span></span><span style=display:flex><span>docker inspect container_id
</span></span><span style=display:flex><span>docker stats container_id               <span style=color:#75715e># 即時資源使用情況</span>
</span></span><span style=display:flex><span>docker top container_id                 <span style=color:#75715e># 容器內程序</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 複製檔案</span>
</span></span><span style=display:flex><span>docker cp file.txt container_id:/path/  <span style=color:#75715e># 複製到容器</span>
</span></span><span style=display:flex><span>docker cp container_id:/path/file.txt . <span style=color:#75715e># 從容器複製出來</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看容器變更</span>
</span></span><span style=display:flex><span>docker diff container_id
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>Docker Compose</span></h5><div class=card><div class=card-body><p><strong>基本指令：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 啟動服務</span>
</span></span><span style=display:flex><span>docker-compose up
</span></span><span style=display:flex><span>docker-compose up -d                    <span style=color:#75715e># 背景執行</span>
</span></span><span style=display:flex><span>docker-compose up --build               <span style=color:#75715e># 重新建置映像檔</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 停止服務</span>
</span></span><span style=display:flex><span>docker-compose down
</span></span><span style=display:flex><span>docker-compose down -v                  <span style=color:#75715e># 同時移除 volumes</span>
</span></span><span style=display:flex><span>docker-compose stop
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看服務狀態</span>
</span></span><span style=display:flex><span>docker-compose ps
</span></span><span style=display:flex><span>docker-compose logs
</span></span><span style=display:flex><span>docker-compose logs -f service_name     <span style=color:#75715e># 查看特定服務日誌</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 執行指令</span>
</span></span><span style=display:flex><span>docker-compose exec service_name bash
</span></span><span style=display:flex><span>docker-compose run service_name command
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 重啟服務</span>
</span></span><span style=display:flex><span>docker-compose restart
</span></span><span style=display:flex><span>docker-compose restart service_name
</span></span></code></pre></div><p><strong>範例 docker-compose.yml：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>version</span>: <span style=color:#e6db74>&#39;3.8&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>web</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>nginx:latest</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;8080:80&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>./html:/usr/share/nginx/html</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>  <span style=color:#f92672>db</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>mysql:8.0</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>MYSQL_ROOT_PASSWORD</span>: <span style=color:#ae81ff>password</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>MYSQL_DATABASE</span>: <span style=color:#ae81ff>myapp</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>db_data:/var/lib/mysql</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>db_data</span>:
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>映像檔建置 (Dockerfile)</span></h5><div class=card><div class=card-body><p><strong>基本 Dockerfile：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#75715e># Node.js 應用程式範例</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>FROM</span> <span style=color:#e6db74>node:18-alpine</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>WORKDIR</span> <span style=color:#e6db74>/app</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> package*.json ./<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> npm ci --only<span style=color:#f92672>=</span>production<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> . .<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>EXPOSE</span> <span style=color:#e6db74>3000</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>USER</span> <span style=color:#e6db74>node</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>CMD</span> [<span style=color:#e6db74>&#34;npm&#34;</span>, <span style=color:#e6db74>&#34;start&#34;</span>]<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><p><strong>建置指令：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 建置映像檔</span>
</span></span><span style=display:flex><span>docker build -t my-app .
</span></span><span style=display:flex><span>docker build -t my-app:v1.0 .
</span></span><span style=display:flex><span>docker build -f Dockerfile.prod -t my-app:prod .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 多階段建置</span>
</span></span><span style=display:flex><span>docker build --target production -t my-app:prod .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 建置時傳入參數</span>
</span></span><span style=display:flex><span>docker build --build-arg NODE_ENV<span style=color:#f92672>=</span>production -t my-app .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看建置歷史</span>
</span></span><span style=display:flex><span>docker history my-app
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>Docker 網路</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 列出網路</span>
</span></span><span style=display:flex><span>docker network ls
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 建立網路</span>
</span></span><span style=display:flex><span>docker network create my-network
</span></span><span style=display:flex><span>docker network create --driver bridge my-bridge
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 連接容器到網路</span>
</span></span><span style=display:flex><span>docker network connect my-network container_id
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 中斷網路連接</span>
</span></span><span style=display:flex><span>docker network disconnect my-network container_id
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看網路詳細資訊</span>
</span></span><span style=display:flex><span>docker network inspect my-network
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移除網路</span>
</span></span><span style=display:flex><span>docker network rm my-network
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 清理未使用的網路</span>
</span></span><span style=display:flex><span>docker network prune
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>Docker Volumes</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 列出資料卷</span>
</span></span><span style=display:flex><span>docker volume ls
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 建立資料卷</span>
</span></span><span style=display:flex><span>docker volume create my-volume
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看資料卷詳細資訊</span>
</span></span><span style=display:flex><span>docker volume inspect my-volume
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用資料卷</span>
</span></span><span style=display:flex><span>docker run -d -v my-volume:/data nginx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移除資料卷</span>
</span></span><span style=display:flex><span>docker volume rm my-volume
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 清理未使用的資料卷</span>
</span></span><span style=display:flex><span>docker volume prune
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 備份資料卷</span>
</span></span><span style=display:flex><span>docker run --rm -v my-volume:/data -v <span style=color:#66d9ef>$(</span>pwd<span style=color:#66d9ef>)</span>:/backup ubuntu tar czf /backup/backup.tar.gz -C /data .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 還原資料卷</span>
</span></span><span style=display:flex><span>docker run --rm -v my-volume:/data -v <span style=color:#66d9ef>$(</span>pwd<span style=color:#66d9ef>)</span>:/backup ubuntu tar xzf /backup/backup.tar.gz -C /data
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>Docker 系統清理</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 查看 Docker 使用空間</span>
</span></span><span style=display:flex><span>docker system df
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 清理未使用的資源</span>
</span></span><span style=display:flex><span>docker system prune                     <span style=color:#75715e># 清理停止的容器、未使用的網路、映像檔</span>
</span></span><span style=display:flex><span>docker system prune -a                  <span style=color:#75715e># 包含未使用的映像檔</span>
</span></span><span style=display:flex><span>docker system prune -a --volumes        <span style=color:#75715e># 包含未使用的資料卷</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 分別清理</span>
</span></span><span style=display:flex><span>docker container prune                  <span style=color:#75715e># 清理停止的容器</span>
</span></span><span style=display:flex><span>docker image prune                      <span style=color:#75715e># 清理未使用的映像檔</span>
</span></span><span style=display:flex><span>docker image prune -a                   <span style=color:#75715e># 清理所有未使用的映像檔</span>
</span></span><span style=display:flex><span>docker network prune                    <span style=color:#75715e># 清理未使用的網路</span>
</span></span><span style=display:flex><span>docker volume prune                     <span style=color:#75715e># 清理未使用的資料卷</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 強制移除所有容器</span>
</span></span><span style=display:flex><span>docker rm -f <span style=color:#66d9ef>$(</span>docker ps -aq<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 移除所有映像檔</span>
</span></span><span style=display:flex><span>docker rmi -f <span style=color:#66d9ef>$(</span>docker images -q<span style=color:#66d9ef>)</span>
</span></span></code></pre></div></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>Docker Registry</span></h5><div class=card><div class=card-body><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 登入 Registry</span>
</span></span><span style=display:flex><span>docker login
</span></span><span style=display:flex><span>docker login registry.example.com
</span></span><span style=display:flex><span>docker login -u username -p password registry.example.com
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 標記映像檔</span>
</span></span><span style=display:flex><span>docker tag my-app:latest registry.example.com/my-app:latest
</span></span><span style=display:flex><span>docker tag my-app:latest harbor.company.com/project/my-app:v1.0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 推送映像檔</span>
</span></span><span style=display:flex><span>docker push registry.example.com/my-app:latest
</span></span><span style=display:flex><span>docker push harbor.company.com/project/my-app:v1.0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 從私有 Registry 拉取</span>
</span></span><span style=display:flex><span>docker pull harbor.company.com/project/my-app:v1.0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 登出</span>
</span></span><span style=display:flex><span>docker logout
</span></span><span style=display:flex><span>docker logout registry.example.com
</span></span></code></pre></div></div></div></div></div></div><div class=paginator><ul class="pagination pagination-default"><li class="page-item disabled"><a aria-disabled=true aria-label=First class=page-link role=button tabindex=-1><span aria-hidden=true>&#171;&#171;</span></a></li><li class="page-item disabled"><a aria-disabled=true aria-label=Previous class=page-link role=button tabindex=-1><span aria-hidden=true>&#171;</span></a></li><li class="page-item active"><a aria-current=page aria-label="Page 1" class=page-link role=button>1</a></li><li class=page-item><a href=/notes/page/2/ aria-label="Page 2" class=page-link role=button>2</a></li><li class=page-item><a href=/notes/page/2/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/notes/page/2/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>導覽列</h5><ul><li class=nav-item><a class=smooth-scroll href=https://clarence.tw/#about>關於我</a></li><li class=nav-item><a class=smooth-scroll href=https://clarence.tw/#skills>技能</a></li><li class=nav-item><a class=smooth-scroll href=https://clarence.tw/#experiences>經歷</a></li><li class=nav-item><a class=smooth-scroll href=https://clarence.tw/#education>學歷</a></li><li class=nav-item><a class=smooth-scroll href=https://clarence.tw/#projects>專案</a></li><li class=nav-item><a class=smooth-scroll href=https://clarence.tw/#publications>出版</a></li><li class=nav-item><a class=smooth-scroll href=https://clarence.tw/#accomplishments>成就</a></li><li class=nav-item><a class=smooth-scroll href=https://blog.clarence.tw/>部落格</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>聯絡方式:</h5><ul><li><a href=mailto:me@clarence.tw target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>me@clarence.tw</span></a></li><li><a href=https://github.com/clarencetw target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>clarencetw</span></a></li><li><a href=https://www.linkedin.com/in/clarencetw target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Clarence Lin</span></a></li><li><a href=https://stackoverflow.com/users/19384998/clarence target=_blank rel=noopener><span><i class="fab fa-stack-overflow"></i></span> <span>Clarence</span></a></li></ul></div></div></div><hr><div class=container><div class="row text-start"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu_b3360284c55cf72d.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2024 Copyright.</div><div class="col-md-4 text-end"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.60cd30f1a829138bd807751c435466cb8538c20fff0c6a6a59c0ca7ac5869bd6.js integrity="sha256-YM0w8agpE4vYB3UcQ1Rmy4U4wg//DGpqWcDKesWGm9Y=" defer></script><script data-name=BMC-Widget data-cfasync=false src=https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js data-id=clarencetw data-description="Support me on Buy me a coffee!" data-message="Buy me a coffee!" data-color=#FFDD00 data-position=Right data-x_margin=10 data-y_margin=18></script></body></html>